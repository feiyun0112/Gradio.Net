import"./IconButtonWrapper.svelte_svelte_type_style_lang-DAP8_Zsr.js";import"./MarkdownCode.svelte_svelte_type_style_lang-CaEo_I2i.js";import{B as xe}from"./BlockLabel-CnzaitFN.js";import{I as le}from"./IconButton-DtUbToT-.js";import{E as et}from"./Empty-CMV1fpYf.js";import{S as tt}from"./ShareButton-BhT5Qc-O.js";import{C as lt}from"./Clear-By3xiIwg.js";import{D as nt}from"./Download-DVtk-Jv3.js";import{a as oe,M as _e}from"./Minimize-OAHZO2Ge.js";import{I as Be}from"./Image-Bsh8Umrh.js";import{P as Te}from"./Play-B0Q0U1Qz.js";import{I as it}from"./IconButtonWrapper-fdTarNL8.js";import"./index-Ya43XIXp.js";/* empty css                                             */import{M as rt}from"./ModifyUpload-Yi6-Wo9R.js";import{I as fe}from"./Image-BRVH1yXn.js";/* empty css                                                   *//* empty css                                                   */import{V as se}from"./Video-DiLYgEjl.js";import{u as ot}from"./utils-BsGrhMNe.js";import"./prism-python-DMUsXzi0.js";import"./Community-Dw1micSV.js";import"./svelte/svelte.js";import"./Undo-DCjBnnSO.js";import"./DownloadLink-IzUam-rM.js";import"./context-TgWPFwN2.js";import"./file-url-DgijyRSD.js";import"./hls-CnVhpNcu.js";var me=Object.prototype.hasOwnProperty;function he(n,e,l){for(l of n.keys())if(Q(l,e))return l}function Q(n,e){var l,t,i;if(n===e)return!0;if(n&&e&&(l=n.constructor)===e.constructor){if(l===Date)return n.getTime()===e.getTime();if(l===RegExp)return n.toString()===e.toString();if(l===Array){if((t=n.length)===e.length)for(;t--&&Q(n[t],e[t]););return t===-1}if(l===Set){if(n.size!==e.size)return!1;for(t of n)if(i=t,i&&typeof i=="object"&&(i=he(e,i),!i)||!e.has(i))return!1;return!0}if(l===Map){if(n.size!==e.size)return!1;for(t of n)if(i=t[0],i&&typeof i=="object"&&(i=he(e,i),!i)||!Q(t[1],e.get(i)))return!1;return!0}if(l===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(l===DataView){if((t=n.byteLength)===e.byteLength)for(;t--&&n.getInt8(t)===e.getInt8(t););return t===-1}if(ArrayBuffer.isView(n)){if((t=n.byteLength)===e.byteLength)for(;t--&&n[t]===e[t];);return t===-1}if(!l||typeof n=="object"){t=0;for(l in n)if(me.call(n,l)&&++t&&!me.call(e,l)||!(l in e)||!Q(n[l],e[l]))return!1;return Object.keys(e).length===t}}return n!==n&&e!==e}async function ft(n){return n?`<div style="display: flex; flex-wrap: wrap; gap: 16px">${(await Promise.all(n.map(async([l,t])=>l===null||!l.url?"":await ot(l.url)))).map(l=>`<img src="${l}" style="height: 400px" />`).join("")}</div>`:""}const{SvelteComponent:st,add_render_callback:ut,append:A,attr:I,binding_callbacks:re,bubble:ge,check_outros:M,create_component:z,destroy_component:q,destroy_each:De,detach:B,element:U,empty:Re,ensure_array_like:te,flush:L,globals:at,group_outros:N,init:ct,insert:T,is_function:_t,listen:Y,mount_component:E,noop:Ae,run_all:mt,safe_not_equal:ht,set_data:Me,set_style:V,space:D,text:Ne,toggle_class:R,transition_in:m,transition_out:d}=window.__gradio__svelte__internal,{window:Ue}=at,{createEventDispatcher:gt,onMount:bt}=window.__gradio__svelte__internal,{tick:dt}=window.__gradio__svelte__internal;function be(n,e,l){const t=n.slice();return t[47]=e[l],t[49]=l,t}function de(n,e,l){const t=n.slice();return t[50]=e[l],t[51]=e,t[49]=l,t}function pe(n){let e,l;return e=new xe({props:{show_label:n[2],Icon:Be,label:n[3]||"Gallery"}}),{c(){z(e.$$.fragment)},m(t,i){E(e,t,i),l=!0},p(t,i){const r={};i[0]&4&&(r.show_label=t[2]),i[0]&8&&(r.label=t[3]||"Gallery"),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function pt(n){let e,l,t,i,r,c,a=n[21]&&n[7]&&we(n),f=n[12]&&qe(n),b=te(n[15]),_=[];for(let o=0;o<b.length;o+=1)_[o]=Le(be(n,b,o));const g=o=>d(_[o],1,1,()=>{_[o]=null});return{c(){e=U("div"),a&&a.c(),l=D(),t=U("div"),i=U("div"),f&&f.c(),r=D();for(let o=0;o<_.length;o+=1)_[o].c();I(i,"class","grid-container svelte-17j4qub"),V(i,"--grid-cols",n[4]),V(i,"--grid-rows",n[5]),V(i,"--object-fit",n[8]),V(i,"height",n[6]),R(i,"pt-6",n[2]),I(t,"class","grid-wrap svelte-17j4qub"),R(t,"minimal",n[13]==="minimal"),R(t,"fixed-height",n[13]!=="minimal"&&(!n[6]||n[6]=="auto")),R(t,"hidden",n[16]),I(e,"class","gallery-container")},m(o,s){T(o,e,s),a&&a.m(e,null),A(e,l),A(e,t),A(t,i),f&&f.m(i,null),A(i,r);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(i,null);n[42](e),c=!0},p(o,s){if(o[21]&&o[7]?a?(a.p(o,s),s[0]&2097280&&m(a,1)):(a=we(o),a.c(),m(a,1),a.m(e,l)):a&&(N(),d(a,1,1,()=>{a=null}),M()),o[12]?f?(f.p(o,s),s[0]&4096&&m(f,1)):(f=qe(o),f.c(),m(f,1),f.m(i,r)):f&&(N(),d(f,1,1,()=>{f=null}),M()),s[0]&32770){b=te(o[15]);let p;for(p=0;p<b.length;p+=1){const j=be(o,b,p);_[p]?(_[p].p(j,s),m(_[p],1)):(_[p]=Le(j),_[p].c(),m(_[p],1),_[p].m(i,null))}for(N(),p=b.length;p<_.length;p+=1)g(p);M()}(!c||s[0]&16)&&V(i,"--grid-cols",o[4]),(!c||s[0]&32)&&V(i,"--grid-rows",o[5]),(!c||s[0]&256)&&V(i,"--object-fit",o[8]),(!c||s[0]&64)&&V(i,"height",o[6]),(!c||s[0]&4)&&R(i,"pt-6",o[2]),(!c||s[0]&8192)&&R(t,"minimal",o[13]==="minimal"),(!c||s[0]&8256)&&R(t,"fixed-height",o[13]!=="minimal"&&(!o[6]||o[6]=="auto")),(!c||s[0]&65536)&&R(t,"hidden",o[16])},i(o){if(!c){m(a),m(f);for(let s=0;s<b.length;s+=1)m(_[s]);c=!0}},o(o){d(a),d(f),_=_.filter(Boolean);for(let s=0;s<_.length;s+=1)d(_[s]);c=!1},d(o){o&&B(e),a&&a.d(),f&&f.d(),De(_,o),n[42](null)}}}function wt(n){let e,l;return e=new et({props:{unpadded_box:!0,size:"large",$$slots:{default:[qt]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(t,i){E(e,t,i),l=!0},p(t,i){const r={};i[1]&2097152&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function we(n){let e,l,t,i,r,c,a,f,b,_,g,o;l=new it({props:{$$slots:{default:[kt]},$$scope:{ctx:n}}});const s=[$t,vt],p=[];function j(k,v){return"image"in k[21]?0:1}r=j(n),c=p[r]=s[r](n);let w=n[21]?.caption&&Ie(n),$=te(n[15]),h=[];for(let k=0;k<$.length;k+=1)h[k]=ze(de(n,$,k));const Z=k=>d(h[k],1,1,()=>{h[k]=null});return{c(){e=U("button"),z(l.$$.fragment),t=D(),i=U("button"),c.c(),a=D(),w&&w.c(),f=D(),b=U("div");for(let k=0;k<h.length;k+=1)h[k].c();I(i,"class","media-button svelte-17j4qub"),V(i,"height","calc(100% - "+(n[21].caption?"80px":"60px")+")"),I(i,"aria-label","detailed view of selected image"),I(b,"class","thumbnails scroll-hide svelte-17j4qub"),I(b,"data-testid","container_el"),I(e,"class","preview svelte-17j4qub"),R(e,"minimal",n[13]==="minimal")},m(k,v){T(k,e,v),E(l,e,null),A(e,t),A(e,i),p[r].m(i,null),A(e,a),w&&w.m(e,null),A(e,f),A(e,b);for(let C=0;C<h.length;C+=1)h[C]&&h[C].m(b,null);n[39](b),_=!0,g||(o=[Y(i,"click",function(){_t("image"in n[21]?n[36]:null)&&("image"in n[21]?n[36]:null).apply(this,arguments)}),Y(e,"keydown",n[23])],g=!0)},p(k,v){n=k;const C={};v[0]&2215426|v[1]&2097152&&(C.$$scope={dirty:v,ctx:n}),l.$set(C);let G=r;if(r=j(n),r===G?p[r].p(n,v):(N(),d(p[G],1,1,()=>{p[G]=null}),M(),c=p[r],c?c.p(n,v):(c=p[r]=s[r](n),c.c()),m(c,1),c.m(i,null)),(!_||v[0]&2097152)&&V(i,"height","calc(100% - "+(n[21].caption?"80px":"60px")+")"),n[21]?.caption?w?w.p(n,v):(w=Ie(n),w.c(),w.m(e,f)):w&&(w.d(1),w=null),v[0]&303106){$=te(n[15]);let y;for(y=0;y<$.length;y+=1){const X=de(n,$,y);h[y]?(h[y].p(X,v),m(h[y],1)):(h[y]=ze(X),h[y].c(),m(h[y],1),h[y].m(b,null))}for(N(),y=$.length;y<h.length;y+=1)Z(y);M()}(!_||v[0]&8192)&&R(e,"minimal",n[13]==="minimal")},i(k){if(!_){m(l.$$.fragment,k),m(c);for(let v=0;v<$.length;v+=1)m(h[v]);_=!0}},o(k){d(l.$$.fragment,k),d(c),h=h.filter(Boolean);for(let v=0;v<h.length;v+=1)d(h[v]);_=!1},d(k){k&&B(e),q(l),p[r].d(),w&&w.d(),De(h,k),n[39](null),g=!1,mt(o)}}}function ke(n){let e,l;return e=new le({props:{Icon:nt,label:n[11]("common.download")}}),e.$on("click",n[32]),{c(){z(e.$$.fragment)},m(t,i){E(e,t,i),l=!0},p(t,i){const r={};i[0]&2048&&(r.label=t[11]("common.download")),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function ve(n){let e,l;return e=new le({props:{Icon:n[16]?oe:_e,label:n[16]?"Exit full screen":"View in full screen"}}),e.$on("click",n[25]),{c(){z(e.$$.fragment)},m(t,i){E(e,t,i),l=!0},p(t,i){const r={};i[0]&65536&&(r.Icon=t[16]?oe:_e),i[0]&65536&&(r.label=t[16]?"Exit full screen":"View in full screen"),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function $e(n){let e,l;return e=new le({props:{Icon:oe,label:"Exit full screen"}}),e.$on("click",n[25]),{c(){z(e.$$.fragment)},m(t,i){E(e,t,i),l=!0},p:Ae,i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function je(n){let e,l,t;return l=new tt({props:{i18n:n[11],value:n[15],formatter:ft}}),l.$on("share",n[33]),l.$on("error",n[34]),{c(){e=U("div"),z(l.$$.fragment),I(e,"class","icon-button svelte-17j4qub")},m(i,r){T(i,e,r),E(l,e,null),t=!0},p(i,r){const c={};r[0]&2048&&(c.i18n=i[11]),r[0]&32768&&(c.value=i[15]),l.$set(c)},i(i){t||(m(l.$$.fragment,i),t=!0)},o(i){d(l.$$.fragment,i),t=!1},d(i){i&&B(e),q(l)}}}function ye(n){let e,l;return e=new le({props:{Icon:lt,label:"Close"}}),e.$on("click",n[35]),{c(){z(e.$$.fragment)},m(t,i){E(e,t,i),l=!0},p:Ae,i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function kt(n){let e,l,t,i,r,c,a=n[10]&&ke(n),f=n[14]&&!n[16]&&ve(n),b=n[14]&&n[16]&&$e(n),_=n[9]&&je(n),g=!n[16]&&ye(n);return{c(){a&&a.c(),e=D(),f&&f.c(),l=D(),b&&b.c(),t=D(),_&&_.c(),i=D(),g&&g.c(),r=Re()},m(o,s){a&&a.m(o,s),T(o,e,s),f&&f.m(o,s),T(o,l,s),b&&b.m(o,s),T(o,t,s),_&&_.m(o,s),T(o,i,s),g&&g.m(o,s),T(o,r,s),c=!0},p(o,s){o[10]?a?(a.p(o,s),s[0]&1024&&m(a,1)):(a=ke(o),a.c(),m(a,1),a.m(e.parentNode,e)):a&&(N(),d(a,1,1,()=>{a=null}),M()),o[14]&&!o[16]?f?(f.p(o,s),s[0]&81920&&m(f,1)):(f=ve(o),f.c(),m(f,1),f.m(l.parentNode,l)):f&&(N(),d(f,1,1,()=>{f=null}),M()),o[14]&&o[16]?b?(b.p(o,s),s[0]&81920&&m(b,1)):(b=$e(o),b.c(),m(b,1),b.m(t.parentNode,t)):b&&(N(),d(b,1,1,()=>{b=null}),M()),o[9]?_?(_.p(o,s),s[0]&512&&m(_,1)):(_=je(o),_.c(),m(_,1),_.m(i.parentNode,i)):_&&(N(),d(_,1,1,()=>{_=null}),M()),o[16]?g&&(N(),d(g,1,1,()=>{g=null}),M()):g?(g.p(o,s),s[0]&65536&&m(g,1)):(g=ye(o),g.c(),m(g,1),g.m(r.parentNode,r))},i(o){c||(m(a),m(f),m(b),m(_),m(g),c=!0)},o(o){d(a),d(f),d(b),d(_),d(g),c=!1},d(o){o&&(B(e),B(l),B(t),B(i),B(r)),a&&a.d(o),f&&f.d(o),b&&b.d(o),_&&_.d(o),g&&g.d(o)}}}function vt(n){let e,l;return e=new se({props:{src:n[21].video.url,"data-testid":"detailed-video",alt:n[21].caption||"",loading:"lazy",loop:!1,is_stream:!1,muted:!1,controls:!0}}),{c(){z(e.$$.fragment)},m(t,i){E(e,t,i),l=!0},p(t,i){const r={};i[0]&2097152&&(r.src=t[21].video.url),i[0]&2097152&&(r.alt=t[21].caption||""),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function $t(n){let e,l;return e=new fe({props:{"data-testid":"detailed-image",src:n[21].image.url,alt:n[21].caption||"",title:n[21].caption||null,class:n[21].caption&&"with-caption",loading:"lazy"}}),{c(){z(e.$$.fragment)},m(t,i){E(e,t,i),l=!0},p(t,i){const r={};i[0]&2097152&&(r.src=t[21].image.url),i[0]&2097152&&(r.alt=t[21].caption||""),i[0]&2097152&&(r.title=t[21].caption||null),i[0]&2097152&&(r.class=t[21].caption&&"with-caption"),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Ie(n){let e,l=n[21].caption+"",t;return{c(){e=U("caption"),t=Ne(l),I(e,"class","caption svelte-17j4qub")},m(i,r){T(i,e,r),A(e,t)},p(i,r){r[0]&2097152&&l!==(l=i[21].caption+"")&&Me(t,l)},d(i){i&&B(e)}}}function jt(n){let e,l,t,i;return e=new Te({}),t=new se({props:{src:n[50].video.url,title:n[50].caption||null,is_stream:!1,"data-testid":"thumbnail "+(n[49]+1),alt:"",loading:"lazy",loop:!1}}),{c(){z(e.$$.fragment),l=D(),z(t.$$.fragment)},m(r,c){E(e,r,c),T(r,l,c),E(t,r,c),i=!0},p(r,c){const a={};c[0]&32768&&(a.src=r[50].video.url),c[0]&32768&&(a.title=r[50].caption||null),t.$set(a)},i(r){i||(m(e.$$.fragment,r),m(t.$$.fragment,r),i=!0)},o(r){d(e.$$.fragment,r),d(t.$$.fragment,r),i=!1},d(r){r&&B(l),q(e,r),q(t,r)}}}function yt(n){let e,l;return e=new fe({props:{src:n[50].image.url,title:n[50].caption||null,"data-testid":"thumbnail "+(n[49]+1),alt:"",loading:"lazy"}}),{c(){z(e.$$.fragment)},m(t,i){E(e,t,i),l=!0},p(t,i){const r={};i[0]&32768&&(r.src=t[50].image.url),i[0]&32768&&(r.title=t[50].caption||null),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function ze(n){let e,l,t,i,r,c=n[49],a,f,b;const _=[yt,jt],g=[];function o(w,$){return"image"in w[50]?0:1}l=o(n),t=g[l]=_[l](n);const s=()=>n[37](e,c),p=()=>n[37](null,c);function j(){return n[38](n[49])}return{c(){e=U("button"),t.c(),i=D(),I(e,"class","thumbnail-item thumbnail-small svelte-17j4qub"),I(e,"aria-label",r="Thumbnail "+(n[49]+1)+" of "+n[15].length),R(e,"selected",n[1]===n[49]&&n[13]!=="minimal")},m(w,$){T(w,e,$),g[l].m(e,null),A(e,i),s(),a=!0,f||(b=Y(e,"click",j),f=!0)},p(w,$){n=w;let h=l;l=o(n),l===h?g[l].p(n,$):(N(),d(g[h],1,1,()=>{g[h]=null}),M(),t=g[l],t?t.p(n,$):(t=g[l]=_[l](n),t.c()),m(t,1),t.m(e,i)),(!a||$[0]&32768&&r!==(r="Thumbnail "+(n[49]+1)+" of "+n[15].length))&&I(e,"aria-label",r),c!==n[49]&&(p(),c=n[49],s()),(!a||$[0]&8194)&&R(e,"selected",n[1]===n[49]&&n[13]!=="minimal")},i(w){a||(m(t),a=!0)},o(w){d(t),a=!1},d(w){w&&B(e),g[l].d(),p(),f=!1,b()}}}function qe(n){let e,l,t;return l=new rt({props:{i18n:n[11]}}),l.$on("clear",n[40]),{c(){e=U("div"),z(l.$$.fragment),I(e,"class","icon-button svelte-17j4qub")},m(i,r){T(i,e,r),E(l,e,null),t=!0},p(i,r){const c={};r[0]&2048&&(c.i18n=i[11]),l.$set(c)},i(i){t||(m(l.$$.fragment,i),t=!0)},o(i){d(l.$$.fragment,i),t=!1},d(i){i&&B(e),q(l)}}}function It(n){let e,l,t,i;return e=new Te({}),t=new se({props:{src:n[47].video.url,title:n[47].caption||null,is_stream:!1,"data-testid":"thumbnail "+(n[49]+1),alt:"",loading:"lazy",loop:!1}}),{c(){z(e.$$.fragment),l=D(),z(t.$$.fragment)},m(r,c){E(e,r,c),T(r,l,c),E(t,r,c),i=!0},p(r,c){const a={};c[0]&32768&&(a.src=r[47].video.url),c[0]&32768&&(a.title=r[47].caption||null),t.$set(a)},i(r){i||(m(e.$$.fragment,r),m(t.$$.fragment,r),i=!0)},o(r){d(e.$$.fragment,r),d(t.$$.fragment,r),i=!1},d(r){r&&B(l),q(e,r),q(t,r)}}}function zt(n){let e,l;return e=new fe({props:{alt:n[47].caption||"",src:typeof n[47].image=="string"?n[47].image:n[47].image.url,loading:"lazy"}}),{c(){z(e.$$.fragment)},m(t,i){E(e,t,i),l=!0},p(t,i){const r={};i[0]&32768&&(r.alt=t[47].caption||""),i[0]&32768&&(r.src=typeof t[47].image=="string"?t[47].image:t[47].image.url),e.$set(r)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Ee(n){let e,l=n[47].caption+"",t;return{c(){e=U("div"),t=Ne(l),I(e,"class","caption-label svelte-17j4qub")},m(i,r){T(i,e,r),A(e,t)},p(i,r){r[0]&32768&&l!==(l=i[47].caption+"")&&Me(t,l)},d(i){i&&B(e)}}}function Le(n){let e,l,t,i,r,c,a,f,b;const _=[zt,It],g=[];function o(j,w){return"image"in j[47]?0:1}l=o(n),t=g[l]=_[l](n);let s=n[47].caption&&Ee(n);function p(){return n[41](n[49])}return{c(){e=U("button"),t.c(),i=D(),s&&s.c(),r=D(),I(e,"class","thumbnail-item thumbnail-lg svelte-17j4qub"),I(e,"aria-label",c="Thumbnail "+(n[49]+1)+" of "+n[15].length),R(e,"selected",n[1]===n[49])},m(j,w){T(j,e,w),g[l].m(e,null),A(e,i),s&&s.m(e,null),A(e,r),a=!0,f||(b=Y(e,"click",p),f=!0)},p(j,w){n=j;let $=l;l=o(n),l===$?g[l].p(n,w):(N(),d(g[$],1,1,()=>{g[$]=null}),M(),t=g[l],t?t.p(n,w):(t=g[l]=_[l](n),t.c()),m(t,1),t.m(e,i)),n[47].caption?s?s.p(n,w):(s=Ee(n),s.c(),s.m(e,r)):s&&(s.d(1),s=null),(!a||w[0]&32768&&c!==(c="Thumbnail "+(n[49]+1)+" of "+n[15].length))&&I(e,"aria-label",c),(!a||w[0]&2)&&R(e,"selected",n[1]===n[49])},i(j){a||(m(t),a=!0)},o(j){d(t),a=!1},d(j){j&&B(e),g[l].d(),s&&s.d(),f=!1,b()}}}function qt(n){let e,l;return e=new Be({}),{c(){z(e.$$.fragment)},m(t,i){E(e,t,i),l=!0},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),l=!1},d(t){q(e,t)}}}function Et(n){let e,l,t,i,r,c,a;ut(n[31]);let f=n[2]&&pe(n);const b=[wt,pt],_=[];function g(o,s){return o[0]==null||o[15]==null||o[15].length===0?0:1}return l=g(n),t=_[l]=b[l](n),{c(){f&&f.c(),e=D(),t.c(),i=Re()},m(o,s){f&&f.m(o,s),T(o,e,s),_[l].m(o,s),T(o,i,s),r=!0,c||(a=Y(Ue,"resize",n[31]),c=!0)},p(o,s){o[2]?f?(f.p(o,s),s[0]&4&&m(f,1)):(f=pe(o),f.c(),m(f,1),f.m(e.parentNode,e)):f&&(N(),d(f,1,1,()=>{f=null}),M());let p=l;l=g(o),l===p?_[l].p(o,s):(N(),d(_[p],1,1,()=>{_[p]=null}),M(),t=_[l],t?t.p(o,s):(t=_[l]=b[l](o),t.c()),m(t,1),t.m(i.parentNode,i))},i(o){r||(m(f),m(t),r=!0)},o(o){d(f),d(t),r=!1},d(o){o&&(B(e),B(i)),f&&f.d(o),_[l].d(o),c=!1,a()}}}function Lt(n,e,l){let t,i,r,{show_label:c=!0}=e,{label:a}=e,{value:f=null}=e,{columns:b=[2]}=e,{rows:_=void 0}=e,{height:g="auto"}=e,{preview:o}=e,{allow_preview:s=!0}=e,{object_fit:p="cover"}=e,{show_share_button:j=!1}=e,{show_download_button:w=!1}=e,{i18n:$}=e,{selected_index:h=null}=e,{interactive:Z}=e,{_fetch:k}=e,{mode:v="normal"}=e,{show_fullscreen_button:C=!0}=e,G=!1,y;const X=gt();let J=!0,O=null,ne=f;h==null&&o&&f?.length&&(h=0);let ie=h;function ue(u){const S=u.target,F=u.offsetX,W=S.offsetWidth/2;F<W?l(1,h=t):l(1,h=i)}function Ce(u){switch(u.code){case"Escape":u.preventDefault(),l(1,h=null);break;case"ArrowLeft":u.preventDefault(),l(1,h=t);break;case"ArrowRight":u.preventDefault(),l(1,h=i);break}}let H=[],P;async function Se(u){if(typeof u!="number"||(await dt(),H[u]===void 0))return;H[u]?.focus();const{left:S,width:F}=P.getBoundingClientRect(),{left:x,width:W}=H[u].getBoundingClientRect(),K=x-S+W/2-F/2+P.scrollLeft;P&&typeof P.scrollTo=="function"&&P.scrollTo({left:K<0?0:K,behavior:"smooth"})}let ae=0;async function ce(u,S){let F;try{F=await k(u)}catch(K){if(K instanceof TypeError){window.open(u,"_blank","noreferrer");return}throw K}const x=await F.blob(),W=URL.createObjectURL(x),ee=document.createElement("a");ee.href=W,ee.download=S,ee.click(),URL.revokeObjectURL(W)}bt(()=>{document.addEventListener("fullscreenchange",()=>{l(16,G=!!document.fullscreenElement)})});const Ve=async()=>{G?await document.exitFullscreen():await y.requestFullscreen()};function Oe(){l(20,ae=Ue.innerHeight)}const Pe=()=>{const u="image"in r?r?.image:r?.video;if(u==null)return;const{url:S,orig_name:F}=u;S&&ce(S,F??"image")};function Fe(u){ge.call(this,n,u)}function Ge(u){ge.call(this,n,u)}const He=()=>l(1,h=null),We=u=>ue(u);function Xe(u,S){re[u?"unshift":"push"](()=>{H[S]=u,l(18,H)})}const Je=u=>l(1,h=u);function Ke(u){re[u?"unshift":"push"](()=>{P=u,l(19,P)})}const Qe=()=>l(0,f=[]),Ye=u=>l(1,h=u);function Ze(u){re[u?"unshift":"push"](()=>{y=u,l(17,y)})}return n.$$set=u=>{"show_label"in u&&l(2,c=u.show_label),"label"in u&&l(3,a=u.label),"value"in u&&l(0,f=u.value),"columns"in u&&l(4,b=u.columns),"rows"in u&&l(5,_=u.rows),"height"in u&&l(6,g=u.height),"preview"in u&&l(26,o=u.preview),"allow_preview"in u&&l(7,s=u.allow_preview),"object_fit"in u&&l(8,p=u.object_fit),"show_share_button"in u&&l(9,j=u.show_share_button),"show_download_button"in u&&l(10,w=u.show_download_button),"i18n"in u&&l(11,$=u.i18n),"selected_index"in u&&l(1,h=u.selected_index),"interactive"in u&&l(12,Z=u.interactive),"_fetch"in u&&l(27,k=u._fetch),"mode"in u&&l(13,v=u.mode),"show_fullscreen_button"in u&&l(14,C=u.show_fullscreen_button)},n.$$.update=()=>{n.$$.dirty[0]&268435457&&l(28,J=f==null||f.length===0?!0:J),n.$$.dirty[0]&1&&l(15,O=f==null?null:f.map(u=>"video"in u?{video:u.video,caption:u.caption}:"image"in u?{image:u.image,caption:u.caption}:{})),n.$$.dirty[0]&872415235&&(Q(ne,f)||(J?(l(1,h=o&&f?.length?0:null),l(28,J=!1)):l(1,h=h!=null&&f!=null&&h<f.length?h:null),X("change"),l(29,ne=f))),n.$$.dirty[0]&32770&&(t=((h??0)+(O?.length??0)-1)%(O?.length??0)),n.$$.dirty[0]&32770&&(i=((h??0)+1)%(O?.length??0)),n.$$.dirty[0]&1073774594&&h!==ie&&(l(30,ie=h),h!==null&&X("select",{index:h,value:O?.[h]})),n.$$.dirty[0]&130&&s&&Se(h),n.$$.dirty[0]&32770&&l(21,r=h!=null&&O!=null?O[h]:null)},[f,h,c,a,b,_,g,s,p,j,w,$,Z,v,C,O,G,y,H,P,ae,r,ue,Ce,ce,Ve,o,k,J,ne,ie,Oe,Pe,Fe,Ge,He,We,Xe,Je,Ke,Qe,Ye,Ze]}class il extends st{constructor(e){super(),ct(this,e,Lt,Et,ht,{show_label:2,label:3,value:0,columns:4,rows:5,height:6,preview:26,allow_preview:7,object_fit:8,show_share_button:9,show_download_button:10,i18n:11,selected_index:1,interactive:12,_fetch:27,mode:13,show_fullscreen_button:14},null,[-1,-1])}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),L()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),L()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),L()}get columns(){return this.$$.ctx[4]}set columns(e){this.$$set({columns:e}),L()}get rows(){return this.$$.ctx[5]}set rows(e){this.$$set({rows:e}),L()}get height(){return this.$$.ctx[6]}set height(e){this.$$set({height:e}),L()}get preview(){return this.$$.ctx[26]}set preview(e){this.$$set({preview:e}),L()}get allow_preview(){return this.$$.ctx[7]}set allow_preview(e){this.$$set({allow_preview:e}),L()}get object_fit(){return this.$$.ctx[8]}set object_fit(e){this.$$set({object_fit:e}),L()}get show_share_button(){return this.$$.ctx[9]}set show_share_button(e){this.$$set({show_share_button:e}),L()}get show_download_button(){return this.$$.ctx[10]}set show_download_button(e){this.$$set({show_download_button:e}),L()}get i18n(){return this.$$.ctx[11]}set i18n(e){this.$$set({i18n:e}),L()}get selected_index(){return this.$$.ctx[1]}set selected_index(e){this.$$set({selected_index:e}),L()}get interactive(){return this.$$.ctx[12]}set interactive(e){this.$$set({interactive:e}),L()}get _fetch(){return this.$$.ctx[27]}set _fetch(e){this.$$set({_fetch:e}),L()}get mode(){return this.$$.ctx[13]}set mode(e){this.$$set({mode:e}),L()}get show_fullscreen_button(){return this.$$.ctx[14]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),L()}}export{il as default};
//# sourceMappingURL=Gallery-Bb5qPiFP.js.map
