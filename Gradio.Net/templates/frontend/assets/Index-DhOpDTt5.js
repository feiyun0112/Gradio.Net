import"./IconButtonWrapper.svelte_svelte_type_style_lang-DAP8_Zsr.js";import{u as Yt,S as $l,a as Cl}from"./utils-BsGrhMNe.js";import{I as Ot}from"./Image-BRVH1yXn.js";import{M as Jt}from"./MarkdownCode-CzoKYvsr.js";/* empty css                                                   */import"./index-Ya43XIXp.js";/* empty css                                                   */import"./MarkdownCode.svelte_svelte_type_style_lang-CaEo_I2i.js";import{I as ue}from"./IconButton-DtUbToT-.js";import{C as $t}from"./Check-BiRlaMNo.js";import{C as Ct}from"./Copy-CxQ9EyK2.js";import{D as yl}from"./DownloadLink-IzUam-rM.js";import{U as Sl}from"./Undo-DCjBnnSO.js";import{I as Gt}from"./IconButtonWrapper-fdTarNL8.js";import{d as Hl}from"./index-CnqicUFC.js";import{C as ql}from"./Clear-By3xiIwg.js";import{C as il}from"./Community-Dw1micSV.js";import{T as Vl}from"./Trash-RbZEwH-j.js";import{B as zl}from"./Block-rEXcgPfT.js";import{B as Ml}from"./BlockLabel-CnzaitFN.js";import{S as Ll}from"./index-DbBaXY2J.js";import"./StreamingBar.svelte_svelte_type_style_lang-CxOfZBE-.js";import"./file-url-DgijyRSD.js";import"./context-TgWPFwN2.js";import"./svelte/svelte.js";import"./prism-python-DMUsXzi0.js";const{SvelteComponent:Al,append:Kt,attr:J,detach:Nl,init:Bl,insert:Il,noop:At,safe_not_equal:Tl,svg_element:Nt}=window.__gradio__svelte__internal;function jl(n){let e,t,l;return{c(){e=Nt("svg"),t=Nt("path"),l=Nt("path"),J(t,"fill","currentColor"),J(t,"d","M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84Z"),J(l,"fill","currentColor"),J(l,"d","M8 10h16v2H8zm0 6h10v2H8z"),J(e,"xmlns","http://www.w3.org/2000/svg"),J(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),J(e,"aria-hidden","true"),J(e,"role","img"),J(e,"class","iconify iconify--carbon"),J(e,"width","100%"),J(e,"height","100%"),J(e,"preserveAspectRatio","xMidYMid meet"),J(e,"viewBox","0 0 32 32")},m(i,s){Il(i,e,s),Kt(e,t),Kt(e,l)},p:At,i:At,o:At,d(i){i&&Nl(e)}}}class Dl extends Al{constructor(e){super(),Bl(this,e,null,jl,Tl,{})}}const{SvelteComponent:Zl,append:wt,attr:V,detach:El,init:Ul,insert:Pl,noop:Bt,safe_not_equal:Rl,svg_element:rt}=window.__gradio__svelte__internal;function Fl(n){let e,t,l,i,s;return{c(){e=rt("svg"),t=rt("path"),l=rt("path"),i=rt("path"),s=rt("path"),V(t,"d","M19.1679 9C18.0247 6.46819 15.3006 4.5 11.9999 4.5C8.31459 4.5 5.05104 7.44668 4.54932 11"),V(t,"stroke","currentColor"),V(t,"stroke-width","1.5"),V(t,"stroke-linecap","round"),V(t,"stroke-linejoin","round"),V(l,"d","M16 9H19.4C19.7314 9 20 8.73137 20 8.4V5"),V(l,"stroke","currentColor"),V(l,"stroke-width","1.5"),V(l,"stroke-linecap","round"),V(l,"stroke-linejoin","round"),V(i,"d","M4.88146 15C5.92458 17.5318 8.64874 19.5 12.0494 19.5C15.7347 19.5 18.9983 16.5533 19.5 13"),V(i,"stroke","currentColor"),V(i,"stroke-width","1.5"),V(i,"stroke-linecap","round"),V(i,"stroke-linejoin","round"),V(s,"d","M8.04932 15H4.64932C4.31795 15 4.04932 15.2686 4.04932 15.6V19"),V(s,"stroke","currentColor"),V(s,"stroke-width","1.5"),V(s,"stroke-linecap","round"),V(s,"stroke-linejoin","round"),V(e,"width","100%"),V(e,"height","100%"),V(e,"stroke-width","1.5"),V(e,"viewBox","0 0 24 24"),V(e,"fill","none"),V(e,"xmlns","http://www.w3.org/2000/svg"),V(e,"color","currentColor")},m(o,a){Pl(o,e,a),wt(e,t),wt(e,l),wt(e,i),wt(e,s)},p:Bt,i:Bt,o:Bt,d(o){o&&El(e)}}}class Ol extends Zl{constructor(e){super(),Ul(this,e,null,Fl,Rl,{})}}const{SvelteComponent:Jl,append:Gl,attr:he,detach:Wl,init:Yl,insert:Kl,noop:It,safe_not_equal:Ql,svg_element:Qt}=window.__gradio__svelte__internal;function Xl(n){let e,t;return{c(){e=Qt("svg"),t=Qt("path"),he(t,"d","M12 20L12 4M12 20L7 15M12 20L17 15"),he(t,"stroke","currentColor"),he(t,"stroke-width","2"),he(t,"stroke-linecap","round"),he(t,"stroke-linejoin","round"),he(e,"width","100%"),he(e,"height","100%"),he(e,"viewBox","0 0 24 24"),he(e,"fill","none"),he(e,"xmlns","http://www.w3.org/2000/svg")},m(l,i){Kl(l,e,i),Gl(e,t)},p:It,i:It,o:It,d(l){l&&Wl(e)}}}class xl extends Jl{constructor(e){super(),Yl(this,e,null,Xl,Ql,{})}}const ei=async n=>(await Promise.all(n.map(async t=>await Promise.all(t.map(async(l,i)=>{if(l===null)return"";let s=i===0?"ðŸ˜ƒ":"ðŸ¤–",o="";if(typeof l=="string"){const a={audio:/<audio.*?src="(\/file=.*?)"/g,video:/<video.*?src="(\/file=.*?)"/g,image:/<img.*?src="(\/file=.*?)".*?\/>|!\[.*?\]\((\/file=.*?)\)/g};o=l;for(let[r,u]of Object.entries(a)){let _;for(;(_=u.exec(l))!==null;){const c=_[1]||_[2],h=await Yt(c);o=o.replace(c,h)}}}else{if(!l?.url)return"";const a=await Yt(l.url);l.mime_type?.includes("audio")?o=`<audio controls src="${a}"></audio>`:l.mime_type?.includes("video")?o=a:l.mime_type?.includes("image")&&(o=`<img src="${a}" />`)}return`${s}: ${o}`}))))).map(t=>t.join(t[0]!==""&&t[1]!==""?`
`:"")).join(`
`),ol=(n,e)=>n.replace('src="/file',`src="${e}file`);function ti(n){return n?n.includes("audio")?"audio":n.includes("video")?"video":n.includes("image")?"image":"file":"file"}function sl(n){const e=Array.isArray(n.file)?n.file[0]:n.file;return{component:ti(e?.mime_type),value:n.file,alt_text:n.alt_text,constructor_args:{},props:{}}}function ni(n,e){return n===null?n:n.map((t,l)=>typeof t.content=="string"?{role:t.role,metadata:t.metadata,content:ol(t.content,e),type:"text",index:l}:"file"in t.content?{content:sl(t.content),metadata:t.metadata,role:t.role,type:"component",index:l}:{type:"component",...t})}function li(n,e){return n===null?n:n.flatMap((l,i)=>l.map((s,o)=>{if(s==null)return null;const a=o==0?"user":"assistant";return typeof s=="string"?{role:a,type:"text",content:ol(s,e),metadata:{title:null},index:[i,o]}:"file"in s?{content:sl(s),role:a,type:"component",index:[i,o]}:{role:a,content:s,type:"component",index:[i,o]}})).filter(l=>l!=null)}function Ee(n){return n.type==="component"}function tt(n,e){const t=n[n.length-1].role==="assistant",l=n[n.length-1].index;return JSON.stringify(l)===JSON.stringify(e[e.length-1].index)&&t}function ii(n,e){const t=[];let l=[],i=null;for(const s of n)e==="tuples"&&(i=null),(s.role==="assistant"||s.role==="user")&&(s.role===i?l.push(s):(l.length>0&&t.push(l),l=[s],i=s.role));return l.length>0&&t.push(l),t}async function oi(n,e,t){let l=[],i=[];return n.forEach(o=>{if(e[o]||o==="file")return;const{name:a,component:r}=t(o,"base");l.push(a),i.push(r)}),(await Promise.all(i)).forEach((o,a)=>{e[l[a]]=o.default}),e}function si(n){if(!n)return[];let e=new Set;return n.forEach(t=>{t.type==="component"&&e.add(t.content.component)}),Array.from(e)}const{SvelteComponent:ri,attr:ai,bubble:Qe,check_outros:Ue,construct_svelte_component:X,create_component:x,destroy_component:ee,detach:Ve,element:ui,empty:Pe,flush:ke,group_outros:Re,init:_i,insert:ze,mount_component:te,noop:fi,safe_not_equal:ci,transition_in:R,transition_out:F}=window.__gradio__svelte__internal;function mi(n){let e,t,l;var i=n[1][n[0]];function s(o,a){return{props:{value:o[2],show_label:!1,label:"chatbot-image",show_share_button:!0,i18n:o[6],gradio:{dispatch:vi}}}}return i&&(e=X(i,s(n)),e.$on("load",n[14])),{c(){e&&x(e.$$.fragment),t=Pe()},m(o,a){e&&te(e,o,a),ze(o,t,a),l=!0},p(o,a){if(a&3&&i!==(i=o[1][o[0]])){if(e){Re();const r=e;F(r.$$.fragment,1,0,()=>{ee(r,1)}),Ue()}i?(e=X(i,s(o)),e.$on("load",o[14]),x(e.$$.fragment),R(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else if(i){const r={};a&4&&(r.value=o[2]),a&64&&(r.i18n=o[6]),e.$set(r)}},i(o){l||(e&&R(e.$$.fragment,o),l=!0)},o(o){e&&F(e.$$.fragment,o),l=!1},d(o){o&&Ve(t),e&&ee(e,o)}}}function hi(n){let e,t,l;var i=n[1][n[0]];function s(o,a){return{props:{value:o[2],show_label:!1,label:"chatbot-image",show_download_button:!1,i18n:o[6]}}}return i&&(e=X(i,s(n)),e.$on("load",n[13])),{c(){e&&x(e.$$.fragment),t=Pe()},m(o,a){e&&te(e,o,a),ze(o,t,a),l=!0},p(o,a){if(a&3&&i!==(i=o[1][o[0]])){if(e){Re();const r=e;F(r.$$.fragment,1,0,()=>{ee(r,1)}),Ue()}i?(e=X(i,s(o)),e.$on("load",o[13]),x(e.$$.fragment),R(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else if(i){const r={};a&4&&(r.value=o[2]),a&64&&(r.i18n=o[6]),e.$set(r)}},i(o){l||(e&&R(e.$$.fragment,o),l=!0)},o(o){e&&F(e.$$.fragment,o),l=!1},d(o){o&&Ve(t),e&&ee(e,o)}}}function gi(n){let e,t,l;var i=n[1][n[0]];function s(o,a){return{props:{autoplay:!0,value:o[2].video||o[2],show_label:!1,show_share_button:!0,i18n:o[6],upload:o[7],show_download_button:!1,$$slots:{default:[pi]},$$scope:{ctx:o}}}}return i&&(e=X(i,s(n)),e.$on("load",n[12])),{c(){e&&x(e.$$.fragment),t=Pe()},m(o,a){e&&te(e,o,a),ze(o,t,a),l=!0},p(o,a){if(a&3&&i!==(i=o[1][o[0]])){if(e){Re();const r=e;F(r.$$.fragment,1,0,()=>{ee(r,1)}),Ue()}i?(e=X(i,s(o)),e.$on("load",o[12]),x(e.$$.fragment),R(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else if(i){const r={};a&4&&(r.value=o[2].video||o[2]),a&64&&(r.i18n=o[6]),a&128&&(r.upload=o[7]),a&32768&&(r.$$scope={dirty:a,ctx:o}),e.$set(r)}},i(o){l||(e&&R(e.$$.fragment,o),l=!0)},o(o){e&&F(e.$$.fragment,o),l=!1},d(o){o&&Ve(t),e&&ee(e,o)}}}function di(n){let e,t,l;var i=n[1][n[0]];function s(o,a){return{props:{value:o[2],show_label:!1,show_share_button:!0,i18n:o[6],label:"",waveform_settings:{},waveform_options:{},show_download_button:!1}}}return i&&(e=X(i,s(n)),e.$on("load",n[11])),{c(){e&&x(e.$$.fragment),t=Pe()},m(o,a){e&&te(e,o,a),ze(o,t,a),l=!0},p(o,a){if(a&3&&i!==(i=o[1][o[0]])){if(e){Re();const r=e;F(r.$$.fragment,1,0,()=>{ee(r,1)}),Ue()}i?(e=X(i,s(o)),e.$on("load",o[11]),x(e.$$.fragment),R(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else if(i){const r={};a&4&&(r.value=o[2]),a&64&&(r.i18n=o[6]),e.$set(r)}},i(o){l||(e&&R(e.$$.fragment,o),l=!0)},o(o){e&&F(e.$$.fragment,o),l=!1},d(o){o&&Ve(t),e&&ee(e,o)}}}function bi(n){let e,t,l;var i=n[1][n[0]];function s(o,a){return{props:{value:o[2],target:o[3],theme_mode:o[4],bokeh_version:o[5].bokeh_version,caption:"",show_actions_button:!0}}}return i&&(e=X(i,s(n)),e.$on("load",n[10])),{c(){e&&x(e.$$.fragment),t=Pe()},m(o,a){e&&te(e,o,a),ze(o,t,a),l=!0},p(o,a){if(a&3&&i!==(i=o[1][o[0]])){if(e){Re();const r=e;F(r.$$.fragment,1,0,()=>{ee(r,1)}),Ue()}i?(e=X(i,s(o)),e.$on("load",o[10]),x(e.$$.fragment),R(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else if(i){const r={};a&4&&(r.value=o[2]),a&8&&(r.target=o[3]),a&16&&(r.theme_mode=o[4]),a&32&&(r.bokeh_version=o[5].bokeh_version),e.$set(r)}},i(o){l||(e&&R(e.$$.fragment,o),l=!0)},o(o){e&&F(e.$$.fragment,o),l=!1},d(o){o&&Ve(t),e&&ee(e,o)}}}function wi(n){let e,t,l;var i=n[1][n[0]];function s(o,a){return{props:{value:o[2],show_label:!1,i18n:o[6],label:"",_fetch:o[8],allow_preview:!1,interactive:!1,mode:"minimal",fixed_height:1}}}return i&&(e=X(i,s(n)),e.$on("load",n[9])),{c(){e&&x(e.$$.fragment),t=Pe()},m(o,a){e&&te(e,o,a),ze(o,t,a),l=!0},p(o,a){if(a&3&&i!==(i=o[1][o[0]])){if(e){Re();const r=e;F(r.$$.fragment,1,0,()=>{ee(r,1)}),Ue()}i?(e=X(i,s(o)),e.$on("load",o[9]),x(e.$$.fragment),R(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else if(i){const r={};a&4&&(r.value=o[2]),a&64&&(r.i18n=o[6]),a&256&&(r._fetch=o[8]),e.$set(r)}},i(o){l||(e&&R(e.$$.fragment,o),l=!0)},o(o){e&&F(e.$$.fragment,o),l=!1},d(o){o&&Ve(t),e&&ee(e,o)}}}function pi(n){let e;return{c(){e=ui("track"),ai(e,"kind","captions")},m(t,l){ze(t,e,l)},p:fi,d(t){t&&Ve(e)}}}function ki(n){let e,t,l,i;const s=[wi,bi,di,gi,hi,mi],o=[];function a(r,u){return r[0]==="gallery"?0:r[0]==="plot"?1:r[0]==="audio"?2:r[0]==="video"?3:r[0]==="image"?4:r[0]==="html"?5:-1}return~(e=a(n))&&(t=o[e]=s[e](n)),{c(){t&&t.c(),l=Pe()},m(r,u){~e&&o[e].m(r,u),ze(r,l,u),i=!0},p(r,[u]){let _=e;e=a(r),e===_?~e&&o[e].p(r,u):(t&&(Re(),F(o[_],1,1,()=>{o[_]=null}),Ue()),~e?(t=o[e],t?t.p(r,u):(t=o[e]=s[e](r),t.c()),R(t,1),t.m(l.parentNode,l)):t=null)},i(r){i||(R(t),i=!0)},o(r){F(t),i=!1},d(r){r&&Ve(l),~e&&o[e].d(r)}}}const vi=()=>{};function $i(n,e,t){let{type:l}=e,{components:i}=e,{value:s}=e,{target:o}=e,{theme_mode:a}=e,{props:r}=e,{i18n:u}=e,{upload:_}=e,{_fetch:c}=e;function h(p){Qe.call(this,n,p)}function f(p){Qe.call(this,n,p)}function m(p){Qe.call(this,n,p)}function k(p){Qe.call(this,n,p)}function S(p){Qe.call(this,n,p)}function Z(p){Qe.call(this,n,p)}return n.$$set=p=>{"type"in p&&t(0,l=p.type),"components"in p&&t(1,i=p.components),"value"in p&&t(2,s=p.value),"target"in p&&t(3,o=p.target),"theme_mode"in p&&t(4,a=p.theme_mode),"props"in p&&t(5,r=p.props),"i18n"in p&&t(6,u=p.i18n),"upload"in p&&t(7,_=p.upload),"_fetch"in p&&t(8,c=p._fetch)},[l,i,s,o,a,r,u,_,c,h,f,m,k,S,Z]}class Ci extends ri{constructor(e){super(),_i(this,e,$i,ki,ci,{type:0,components:1,value:2,target:3,theme_mode:4,props:5,i18n:6,upload:7,_fetch:8})}get type(){return this.$$.ctx[0]}set type(e){this.$$set({type:e}),ke()}get components(){return this.$$.ctx[1]}set components(e){this.$$set({components:e}),ke()}get value(){return this.$$.ctx[2]}set value(e){this.$$set({value:e}),ke()}get target(){return this.$$.ctx[3]}set target(e){this.$$set({target:e}),ke()}get theme_mode(){return this.$$.ctx[4]}set theme_mode(e){this.$$set({theme_mode:e}),ke()}get props(){return this.$$.ctx[5]}set props(e){this.$$set({props:e}),ke()}get i18n(){return this.$$.ctx[6]}set i18n(e){this.$$set({i18n:e}),ke()}get upload(){return this.$$.ctx[7]}set upload(e){this.$$set({upload:e}),ke()}get _fetch(){return this.$$.ctx[8]}set _fetch(e){this.$$set({_fetch:e}),ke()}}const{SvelteComponent:yi,append:Xe,attr:at,check_outros:Si,create_slot:Hi,detach:rl,element:ut,flush:Xt,get_all_dirty_from_scope:qi,get_slot_changes:Vi,group_outros:zi,init:Mi,insert:al,listen:Li,safe_not_equal:Ai,set_data:Ni,set_style:xt,space:en,text:Bi,transition_in:vt,transition_out:Rt,update_slot_base:Ii}=window.__gradio__svelte__internal;function tn(n){let e,t;const l=n[4].default,i=Hi(l,n,n[3],null);return{c(){e=ut("div"),i&&i.c(),at(e,"class","content svelte-1e60bn1")},m(s,o){al(s,e,o),i&&i.m(e,null),t=!0},p(s,o){i&&i.p&&(!t||o&8)&&Ii(i,l,s,s[3],t?Vi(l,s[3],o,null):qi(s[3]),null)},i(s){t||(vt(i,s),t=!0)},o(s){Rt(i,s),t=!1},d(s){s&&rl(e),i&&i.d(s)}}}function Ti(n){let e,t,l,i,s,o,a,r,u,_,c=n[0]&&tn(n);return{c(){e=ut("button"),t=ut("div"),l=ut("span"),i=Bi(n[1]),s=en(),o=ut("span"),o.textContent="â–¼",a=en(),c&&c.c(),at(l,"class","title-text svelte-1e60bn1"),at(o,"class","arrow svelte-1e60bn1"),xt(o,"transform",n[0]?"rotate(0)":"rotate(90deg)"),at(t,"class","title svelte-1e60bn1"),at(e,"class","box svelte-1e60bn1")},m(h,f){al(h,e,f),Xe(e,t),Xe(t,l),Xe(l,i),Xe(t,s),Xe(t,o),Xe(e,a),c&&c.m(e,null),r=!0,u||(_=Li(e,"click",n[2]),u=!0)},p(h,[f]){(!r||f&2)&&Ni(i,h[1]),f&1&&xt(o,"transform",h[0]?"rotate(0)":"rotate(90deg)"),h[0]?c?(c.p(h,f),f&1&&vt(c,1)):(c=tn(h),c.c(),vt(c,1),c.m(e,null)):c&&(zi(),Rt(c,1,1,()=>{c=null}),Si())},i(h){r||(vt(c),r=!0)},o(h){Rt(c),r=!1},d(h){h&&rl(e),c&&c.d(),u=!1,_()}}}function ji(n,e,t){let{$$slots:l={},$$scope:i}=e,{expanded:s=!1}=e,{title:o}=e;function a(){t(0,s=!s)}return n.$$set=r=>{"expanded"in r&&t(0,s=r.expanded),"title"in r&&t(1,o=r.title),"$$scope"in r&&t(3,i=r.$$scope)},[s,o,a,i,l]}class Di extends yi{constructor(e){super(),Mi(this,e,ji,Ti,Ai,{expanded:0,title:1})}get expanded(){return this.$$.ctx[0]}set expanded(e){this.$$set({expanded:e}),Xt()}get title(){return this.$$.ctx[1]}set title(e){this.$$set({title:e}),Xt()}}const{SvelteComponent:Zi,append:Ei,attr:Ne,detach:Ui,init:Pi,insert:Ri,noop:Tt,safe_not_equal:Fi,svg_element:nn}=window.__gradio__svelte__internal;function Oi(n){let e,t;return{c(){e=nn("svg"),t=nn("path"),Ne(t,"d","M11.25 6.61523H9.375V1.36523H11.25V6.61523ZM3.375 1.36523H8.625V6.91636L7.48425 8.62748L7.16737 10.8464C7.14108 11.0248 7.05166 11.1879 6.91535 11.3061C6.77904 11.4242 6.60488 11.4896 6.4245 11.4902H6.375C6.07672 11.4899 5.79075 11.3713 5.57983 11.1604C5.36892 10.9495 5.2503 10.6635 5.25 10.3652V8.11523H2.25C1.85233 8.11474 1.47109 7.95654 1.18989 7.67535C0.908691 7.39415 0.750496 7.01291 0.75 6.61523V3.99023C0.750992 3.29435 1.02787 2.62724 1.51994 2.13517C2.01201 1.64311 2.67911 1.36623 3.375 1.36523Z"),Ne(t,"fill","currentColor"),Ne(e,"width","100%"),Ne(e,"height","100%"),Ne(e,"viewBox","0 0 12 12"),Ne(e,"fill","none"),Ne(e,"xmlns","http://www.w3.org/2000/svg")},m(l,i){Ri(l,e,i),Ei(e,t)},p:Tt,i:Tt,o:Tt,d(l){l&&Ui(e)}}}class ln extends Zi{constructor(e){super(),Pi(this,e,null,Oi,Fi,{})}}const{SvelteComponent:Ji,append:Gi,attr:Be,detach:Wi,init:Yi,insert:Ki,noop:jt,safe_not_equal:Qi,svg_element:on}=window.__gradio__svelte__internal;function Xi(n){let e,t;return{c(){e=on("svg"),t=on("path"),Be(t,"d","M2.25 8.11523H4.5V10.3652C4.5003 10.6635 4.61892 10.9495 4.82983 11.1604C5.04075 11.3713 5.32672 11.4899 5.625 11.4902H6.42488C6.60519 11.4895 6.77926 11.4241 6.91549 11.3059C7.05172 11.1878 7.14109 11.0248 7.16737 10.8464L7.48425 8.62748L8.82562 6.61523H11.25V1.36523H3.375C2.67911 1.36623 2.01201 1.64311 1.51994 2.13517C1.02787 2.62724 0.750992 3.29435 0.75 3.99023V6.61523C0.750496 7.01291 0.908691 7.39415 1.18989 7.67535C1.47109 7.95654 1.85233 8.11474 2.25 8.11523ZM9 2.11523H10.5V5.86523H9V2.11523ZM1.5 3.99023C1.5006 3.49314 1.69833 3.01657 2.04983 2.66507C2.40133 2.31356 2.8779 2.11583 3.375 2.11523H8.25V6.12661L6.76575 8.35298L6.4245 10.7402H5.625C5.52554 10.7402 5.43016 10.7007 5.35983 10.6304C5.28951 10.5601 5.25 10.4647 5.25 10.3652V7.36523H2.25C2.05118 7.36494 1.86059 7.28582 1.72 7.14524C1.57941 7.00465 1.5003 6.81406 1.5 6.61523V3.99023Z"),Be(t,"fill","currentColor"),Be(e,"width","100%"),Be(e,"height","100%"),Be(e,"viewBox","0 0 12 12"),Be(e,"fill","none"),Be(e,"xmlns","http://www.w3.org/2000/svg")},m(l,i){Ki(l,e,i),Gi(e,t)},p:jt,i:jt,o:jt,d(l){l&&Wi(e)}}}class sn extends Ji{constructor(e){super(),Yi(this,e,null,Xi,Qi,{})}}const{SvelteComponent:xi,append:eo,attr:Ie,detach:to,init:no,insert:lo,noop:Dt,safe_not_equal:io,svg_element:rn}=window.__gradio__svelte__internal;function oo(n){let e,t;return{c(){e=rn("svg"),t=rn("path"),Ie(t,"d","M0.75 6.24023H2.625V11.4902H0.75V6.24023ZM8.625 11.4902H3.375V5.93911L4.51575 4.22798L4.83263 2.00911C4.85892 1.83065 4.94834 1.66754 5.08465 1.5494C5.22096 1.43125 5.39512 1.36591 5.5755 1.36523H5.625C5.92328 1.36553 6.20925 1.48415 6.42017 1.69507C6.63108 1.90598 6.7497 2.19196 6.75 2.49023V4.74023H9.75C10.1477 4.74073 10.5289 4.89893 10.8101 5.18012C11.0913 5.46132 11.2495 5.84256 11.25 6.24023V8.86523C11.249 9.56112 10.9721 10.2282 10.4801 10.7203C9.98799 11.2124 9.32089 11.4892 8.625 11.4902Z"),Ie(t,"fill","currentColor"),Ie(e,"width","100%"),Ie(e,"height","100%"),Ie(e,"viewBox","0 0 12 12"),Ie(e,"fill","none"),Ie(e,"xmlns","http://www.w3.org/2000/svg")},m(l,i){lo(l,e,i),eo(e,t)},p:Dt,i:Dt,o:Dt,d(l){l&&to(e)}}}class an extends xi{constructor(e){super(),no(this,e,null,oo,io,{})}}const{SvelteComponent:so,append:ro,attr:Te,detach:ao,init:uo,insert:_o,noop:Zt,safe_not_equal:fo,svg_element:un}=window.__gradio__svelte__internal;function co(n){let e,t;return{c(){e=un("svg"),t=un("path"),Te(t,"d","M9.75 4.74023H7.5V2.49023C7.4997 2.19196 7.38108 1.90598 7.17017 1.69507C6.95925 1.48415 6.67328 1.36553 6.375 1.36523H5.57512C5.39481 1.366 5.22074 1.43138 5.08451 1.54952C4.94828 1.66766 4.85891 1.83072 4.83262 2.00911L4.51575 4.22798L3.17438 6.24023H0.75V11.4902H8.625C9.32089 11.4892 9.98799 11.2124 10.4801 10.7203C10.9721 10.2282 11.249 9.56112 11.25 8.86523V6.24023C11.2495 5.84256 11.0913 5.46132 10.8101 5.18012C10.5289 4.89893 10.1477 4.74073 9.75 4.74023ZM3 10.7402H1.5V6.99023H3V10.7402ZM10.5 8.86523C10.4994 9.36233 10.3017 9.8389 9.95017 10.1904C9.59867 10.5419 9.1221 10.7396 8.625 10.7402H3.75V6.72886L5.23425 4.50248L5.5755 2.11523H6.375C6.47446 2.11523 6.56984 2.15474 6.64017 2.22507C6.71049 2.2954 6.75 2.39078 6.75 2.49023V5.49023H9.75C9.94882 5.49053 10.1394 5.56965 10.28 5.71023C10.4206 5.85082 10.4997 6.04141 10.5 6.24023V8.86523Z"),Te(t,"fill","currentColor"),Te(e,"width","100%"),Te(e,"height","100%"),Te(e,"viewBox","0 0 12 12"),Te(e,"fill","none"),Te(e,"xmlns","http://www.w3.org/2000/svg")},m(l,i){_o(l,e,i),ro(e,t)},p:Zt,i:Zt,o:Zt,d(l){l&&ao(e)}}}class _n extends so{constructor(e){super(),uo(this,e,null,co,fo,{})}}const{SvelteComponent:mo,create_component:fn,destroy_component:cn,detach:ho,flush:go,init:bo,insert:wo,mount_component:mn,safe_not_equal:po,space:ko,transition_in:hn,transition_out:gn}=window.__gradio__svelte__internal;function vo(n){let e,t,l,i;return e=new ue({props:{Icon:n[1]==="dislike"?ln:sn,label:n[1]==="dislike"?"clicked dislike":"dislike",color:n[1]==="dislike"?"var(--color-accent)":"var(--block-label-text-color)"}}),e.$on("click",n[2]),l=new ue({props:{Icon:n[1]==="like"?an:_n,label:n[1]==="like"?"clicked like":"like",color:n[1]==="like"?"var(--color-accent)":"var(--block-label-text-color)"}}),l.$on("click",n[3]),{c(){fn(e.$$.fragment),t=ko(),fn(l.$$.fragment)},m(s,o){mn(e,s,o),wo(s,t,o),mn(l,s,o),i=!0},p(s,[o]){const a={};o&2&&(a.Icon=s[1]==="dislike"?ln:sn),o&2&&(a.label=s[1]==="dislike"?"clicked dislike":"dislike"),o&2&&(a.color=s[1]==="dislike"?"var(--color-accent)":"var(--block-label-text-color)"),e.$set(a);const r={};o&2&&(r.Icon=s[1]==="like"?an:_n),o&2&&(r.label=s[1]==="like"?"clicked like":"like"),o&2&&(r.color=s[1]==="like"?"var(--color-accent)":"var(--block-label-text-color)"),l.$set(r)},i(s){i||(hn(e.$$.fragment,s),hn(l.$$.fragment,s),i=!0)},o(s){gn(e.$$.fragment,s),gn(l.$$.fragment,s),i=!1},d(s){s&&ho(t),cn(e,s),cn(l,s)}}}function $o(n,e,t){let{handle_action:l}=e,i=null;const s=()=>{t(1,i="dislike"),l(i)},o=()=>{t(1,i="like"),l(i)};return n.$$set=a=>{"handle_action"in a&&t(0,l=a.handle_action)},[l,i,s,o]}class Co extends mo{constructor(e){super(),bo(this,e,$o,vo,po,{handle_action:0})}get handle_action(){return this.$$.ctx[0]}set handle_action(e){this.$$set({handle_action:e}),go()}}const{SvelteComponent:yo,create_component:So,destroy_component:Ho,flush:qo,init:Vo,mount_component:zo,safe_not_equal:Mo,transition_in:Lo,transition_out:Ao}=window.__gradio__svelte__internal,{onDestroy:No}=window.__gradio__svelte__internal;function Bo(n){let e,t;return e=new ue({props:{label:n[0]?"Copied message":"Copy message",Icon:n[0]?$t:Ct}}),e.$on("click",n[1]),{c(){So(e.$$.fragment)},m(l,i){zo(e,l,i),t=!0},p(l,[i]){const s={};i&1&&(s.label=l[0]?"Copied message":"Copy message"),i&1&&(s.Icon=l[0]?$t:Ct),e.$set(s)},i(l){t||(Lo(e.$$.fragment,l),t=!0)},o(l){Ao(e.$$.fragment,l),t=!1},d(l){Ho(e,l)}}}function Io(n,e,t){let l=!1,{value:i}=e,s;function o(){t(0,l=!0),s&&clearTimeout(s),s=setTimeout(()=>{t(0,l=!1)},2e3)}async function a(){if("clipboard"in navigator)await navigator.clipboard.writeText(i),o();else{const r=document.createElement("textarea");r.value=i,r.style.position="absolute",r.style.left="-999999px",document.body.prepend(r),r.select();try{document.execCommand("copy"),o()}catch(u){console.error(u)}finally{r.remove()}}}return No(()=>{s&&clearTimeout(s)}),n.$$set=r=>{"value"in r&&t(2,i=r.value)},[l,a,i]}class To extends yo{constructor(e){super(),Vo(this,e,Io,Bo,Mo,{value:2})}get value(){return this.$$.ctx[2]}set value(e){this.$$set({value:e}),qo()}}const{SvelteComponent:jo,append:dn,attr:ve,detach:Do,init:Zo,insert:Eo,noop:Et,safe_not_equal:Uo,svg_element:Ut}=window.__gradio__svelte__internal;function Po(n){let e,t,l;return{c(){e=Ut("svg"),t=Ut("path"),l=Ut("path"),ve(t,"d","M6.27701 8.253C6.24187 8.29143 6.19912 8.32212 6.15147 8.34311C6.10383 8.36411 6.05233 8.37495 6.00026 8.37495C5.94819 8.37495 5.89669 8.36411 5.84905 8.34311C5.8014 8.32212 5.75865 8.29143 5.72351 8.253L3.72351 6.0655C3.65798 5.99185 3.62408 5.89536 3.62916 5.79691C3.63424 5.69846 3.67788 5.60596 3.75064 5.53945C3.8234 5.47293 3.91943 5.43774 4.01794 5.44149C4.11645 5.44525 4.20952 5.48764 4.27701 5.5595L5.62501 7.0345V1.5C5.62501 1.40054 5.66452 1.30516 5.73485 1.23483C5.80517 1.16451 5.90055 1.125 6.00001 1.125C6.09947 1.125 6.19485 1.16451 6.26517 1.23483C6.3355 1.30516 6.37501 1.40054 6.37501 1.5V7.034L7.72351 5.559C7.79068 5.4856 7.88425 5.44189 7.98364 5.43748C8.08304 5.43308 8.18011 5.46833 8.25351 5.5355C8.32691 5.60267 8.37062 5.69624 8.37503 5.79563C8.37943 5.89503 8.34418 5.9921 8.27701 6.0655L6.27701 8.253Z"),ve(t,"fill","currentColor"),ve(l,"d","M1.875 7.39258C1.875 7.29312 1.83549 7.19774 1.76517 7.12741C1.69484 7.05709 1.59946 7.01758 1.5 7.01758C1.40054 7.01758 1.30516 7.05709 1.23483 7.12741C1.16451 7.19774 1.125 7.29312 1.125 7.39258V7.42008C1.125 8.10358 1.125 8.65508 1.1835 9.08858C1.2435 9.53858 1.3735 9.91758 1.674 10.2186C1.975 10.5196 2.354 10.6486 2.804 10.7096C3.2375 10.7676 3.789 10.7676 4.4725 10.7676H7.5275C8.211 10.7676 8.7625 10.7676 9.196 10.7096C9.646 10.6486 10.025 10.5196 10.326 10.2186C10.627 9.91758 10.756 9.53858 10.817 9.08858C10.875 8.65508 10.875 8.10358 10.875 7.42008V7.39258C10.875 7.29312 10.8355 7.19774 10.7652 7.12741C10.6948 7.05709 10.5995 7.01758 10.5 7.01758C10.4005 7.01758 10.3052 7.05709 10.2348 7.12741C10.1645 7.19774 10.125 7.29312 10.125 7.39258C10.125 8.11008 10.124 8.61058 10.0735 8.98858C10.024 9.35558 9.9335 9.54958 9.7955 9.68808C9.657 9.82658 9.463 9.91658 9.0955 9.96608C8.718 10.0166 8.2175 10.0176 7.5 10.0176H4.5C3.7825 10.0176 3.2815 10.0166 2.904 9.96608C2.537 9.91658 2.343 9.82608 2.2045 9.68808C2.066 9.54958 1.976 9.35558 1.9265 8.98808C1.876 8.61058 1.875 8.11008 1.875 7.39258Z"),ve(l,"fill","currentColor"),ve(e,"width","16"),ve(e,"height","16"),ve(e,"viewBox","0 0 12 12"),ve(e,"fill","none"),ve(e,"xmlns","http://www.w3.org/2000/svg")},m(i,s){Eo(i,e,s),dn(e,t),dn(e,l)},p:Et,i:Et,o:Et,d(i){i&&Do(e)}}}class Ro extends jo{constructor(e){super(),Zo(this,e,null,Po,Uo,{})}}const{SvelteComponent:Fo,attr:bn,check_outros:xe,create_component:Fe,destroy_component:Oe,detach:De,element:Oo,empty:ul,flush:re,group_outros:et,init:Jo,insert:Ze,mount_component:Je,noop:Go,safe_not_equal:Wo,space:pt,transition_in:M,transition_out:j}=window.__gradio__svelte__internal;function wn(n){let e,t,l,i;return t=new Gt({props:{top_panel:!1,$$slots:{default:[Ko]},$$scope:{ctx:n}}}),{c(){e=Oo("div"),Fe(t.$$.fragment),bn(e,"class",l="message-buttons-"+n[5]+" "+n[9]+" message-buttons "+(n[6]!==null&&"with-avatar")+" svelte-1ibfe7l")},m(s,o){Ze(s,e,o),Je(t,e,null),i=!0},p(s,o){const a={};o&73111&&(a.$$scope={dirty:o,ctx:s}),t.$set(a),(!i||o&608&&l!==(l="message-buttons-"+s[5]+" "+s[9]+" message-buttons "+(s[6]!==null&&"with-avatar")+" svelte-1ibfe7l"))&&bn(e,"class",l)},i(s){i||(M(t.$$.fragment,s),i=!0)},o(s){j(t.$$.fragment,s),i=!1},d(s){s&&De(e),Oe(t)}}}function pn(n){let e,t;return e=new To({props:{value:n[12]}}),{c(){Fe(e.$$.fragment)},m(l,i){Je(e,l,i),t=!0},p(l,i){const s={};i&4096&&(s.value=l[12]),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){Oe(e,l)}}}function kn(n){let e,t;return e=new yl({props:{href:n[4]?.content?.value.url,download:n[4].content.value.orig_name||"image",$$slots:{default:[Yo]},$$scope:{ctx:n}}}),{c(){Fe(e.$$.fragment)},m(l,i){Je(e,l,i),t=!0},p(l,i){const s={};i&16&&(s.href=l[4]?.content?.value.url),i&16&&(s.download=l[4].content.value.orig_name||"image"),i&65536&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){Oe(e,l)}}}function Yo(n){let e,t;return e=new ue({props:{Icon:Ro}}),{c(){Fe(e.$$.fragment)},m(l,i){Je(e,l,i),t=!0},p:Go,i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){Oe(e,l)}}}function vn(n){let e,t;return e=new ue({props:{Icon:Ol,label:"Retry",disabled:n[7]}}),e.$on("click",n[14]),{c(){Fe(e.$$.fragment)},m(l,i){Je(e,l,i),t=!0},p(l,i){const s={};i&128&&(s.disabled=l[7]),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){Oe(e,l)}}}function $n(n){let e,t;return e=new ue({props:{label:"Undo",Icon:Sl,disabled:n[7]}}),e.$on("click",n[15]),{c(){Fe(e.$$.fragment)},m(l,i){Je(e,l,i),t=!0},p(l,i){const s={};i&128&&(s.disabled=l[7]),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){Oe(e,l)}}}function Cn(n){let e,t;return e=new Co({props:{handle_action:n[8]}}),{c(){Fe(e.$$.fragment)},m(l,i){Je(e,l,i),t=!0},p(l,i){const s={};i&256&&(s.handle_action=l[8]),e.$set(s)},i(l){t||(M(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){Oe(e,l)}}}function Ko(n){let e,t=n[10]&&!Array.isArray(n[4])&&Ee(n[4]),l,i,s,o,a,r=n[11]&&pn(n),u=t&&kn(n),_=n[1]&&vn(n),c=n[2]&&$n(n),h=n[0]&&Cn(n);return{c(){r&&r.c(),e=pt(),u&&u.c(),l=pt(),_&&_.c(),i=pt(),c&&c.c(),s=pt(),h&&h.c(),o=ul()},m(f,m){r&&r.m(f,m),Ze(f,e,m),u&&u.m(f,m),Ze(f,l,m),_&&_.m(f,m),Ze(f,i,m),c&&c.m(f,m),Ze(f,s,m),h&&h.m(f,m),Ze(f,o,m),a=!0},p(f,m){f[11]?r?(r.p(f,m),m&2048&&M(r,1)):(r=pn(f),r.c(),M(r,1),r.m(e.parentNode,e)):r&&(et(),j(r,1,1,()=>{r=null}),xe()),m&1040&&(t=f[10]&&!Array.isArray(f[4])&&Ee(f[4])),t?u?(u.p(f,m),m&1040&&M(u,1)):(u=kn(f),u.c(),M(u,1),u.m(l.parentNode,l)):u&&(et(),j(u,1,1,()=>{u=null}),xe()),f[1]?_?(_.p(f,m),m&2&&M(_,1)):(_=vn(f),_.c(),M(_,1),_.m(i.parentNode,i)):_&&(et(),j(_,1,1,()=>{_=null}),xe()),f[2]?c?(c.p(f,m),m&4&&M(c,1)):(c=$n(f),c.c(),M(c,1),c.m(s.parentNode,s)):c&&(et(),j(c,1,1,()=>{c=null}),xe()),f[0]?h?(h.p(f,m),m&1&&M(h,1)):(h=Cn(f),h.c(),M(h,1),h.m(o.parentNode,o)):h&&(et(),j(h,1,1,()=>{h=null}),xe())},i(f){a||(M(r),M(u),M(_),M(c),M(h),a=!0)},o(f){j(r),j(u),j(_),j(c),j(h),a=!1},d(f){f&&(De(e),De(l),De(i),De(s),De(o)),r&&r.d(f),u&&u.d(f),_&&_.d(f),c&&c.d(f),h&&h.d(f)}}}function Qo(n){let e,t,l=n[3]&&wn(n);return{c(){l&&l.c(),e=ul()},m(i,s){l&&l.m(i,s),Ze(i,e,s),t=!0},p(i,[s]){i[3]?l?(l.p(i,s),s&8&&M(l,1)):(l=wn(i),l.c(),M(l,1),l.m(e.parentNode,e)):l&&(et(),j(l,1,1,()=>{l=null}),xe())},i(i){t||(M(l),t=!0)},o(i){j(l),t=!1},d(i){i&&De(e),l&&l.d(i)}}}function yn(n){return Array.isArray(n)&&n.every(e=>typeof e.content=="string")||!Array.isArray(n)&&typeof n.content=="string"}function Xo(n){return Array.isArray(n)?n.map(e=>e.content).join(`
`):n.content}function xo(n,e,t){let l,i,s,{likeable:o}=e,{show_retry:a}=e,{show_undo:r}=e,{show_copy_button:u}=e,{show:_}=e,{message:c}=e,{position:h}=e,{avatar:f}=e,{generating:m}=e,{handle_action:k}=e,{layout:S}=e;const Z=()=>k("retry"),p=()=>k("undo");return n.$$set=w=>{"likeable"in w&&t(0,o=w.likeable),"show_retry"in w&&t(1,a=w.show_retry),"show_undo"in w&&t(2,r=w.show_undo),"show_copy_button"in w&&t(13,u=w.show_copy_button),"show"in w&&t(3,_=w.show),"message"in w&&t(4,c=w.message),"position"in w&&t(5,h=w.position),"avatar"in w&&t(6,f=w.avatar),"generating"in w&&t(7,m=w.generating),"handle_action"in w&&t(8,k=w.handle_action),"layout"in w&&t(9,S=w.layout)},n.$$.update=()=>{n.$$.dirty&16&&t(12,l=yn(c)?Xo(c):""),n.$$.dirty&8208&&t(11,i=u&&c&&yn(c)),n.$$.dirty&16&&t(10,s=!Array.isArray(c)&&Ee(c)&&c.content.value?.url)},[o,a,r,_,c,h,f,m,k,S,s,i,l,u,Z,p]}class _l extends Fo{constructor(e){super(),Jo(this,e,xo,Qo,Wo,{likeable:0,show_retry:1,show_undo:2,show_copy_button:13,show:3,message:4,position:5,avatar:6,generating:7,handle_action:8,layout:9})}get likeable(){return this.$$.ctx[0]}set likeable(e){this.$$set({likeable:e}),re()}get show_retry(){return this.$$.ctx[1]}set show_retry(e){this.$$set({show_retry:e}),re()}get show_undo(){return this.$$.ctx[2]}set show_undo(e){this.$$set({show_undo:e}),re()}get show_copy_button(){return this.$$.ctx[13]}set show_copy_button(e){this.$$set({show_copy_button:e}),re()}get show(){return this.$$.ctx[3]}set show(e){this.$$set({show:e}),re()}get message(){return this.$$.ctx[4]}set message(e){this.$$set({message:e}),re()}get position(){return this.$$.ctx[5]}set position(e){this.$$set({position:e}),re()}get avatar(){return this.$$.ctx[6]}set avatar(e){this.$$set({avatar:e}),re()}get generating(){return this.$$.ctx[7]}set generating(e){this.$$set({generating:e}),re()}get handle_action(){return this.$$.ctx[8]}set handle_action(e){this.$$set({handle_action:e}),re()}get layout(){return this.$$.ctx[9]}set layout(e){this.$$set({layout:e}),re()}}const{SvelteComponent:es,append:yt,assign:fl,attr:T,check_outros:nt,create_component:Ge,destroy_component:We,destroy_each:ts,detach:$e,element:it,empty:Wt,ensure_array_like:Sn,flush:H,get_spread_object:cl,get_spread_update:ml,group_outros:lt,init:ns,insert:Ce,is_function:hl,listen:Hn,mount_component:Ye,noop:qn,run_all:ls,safe_not_equal:is,set_data:os,set_style:je,space:Ft,text:ss,toggle_class:z,transition_in:L,transition_out:D}=window.__gradio__svelte__internal;function Vn(n,e,t){const l=n.slice();return l[35]=e[t],l[37]=t,l}function zn(n){let e,t,l;return t=new Ot({props:{class:"avatar-image",src:n[1]?.url,alt:n[3]+" avatar"}}),{c(){e=it("div"),Ge(t.$$.fragment),T(e,"class","avatar-container svelte-5ng3n")},m(i,s){Ce(i,e,s),Ye(t,e,null),l=!0},p(i,s){const o={};s[0]&2&&(o.src=i[1]?.url),s[0]&8&&(o.alt=i[3]+" avatar"),t.$set(o)},i(i){l||(L(t.$$.fragment,i),l=!0)},o(i){D(t.$$.fragment,i),l=!1},d(i){i&&$e(e),We(t)}}}function rs(n){let e,t=(n[35].content.value?.orig_name||n[35].content.value?.path.split("/").pop()||"file")+"",l,i,s;return{c(){e=it("a"),l=ss(t),T(e,"data-testid","chatbot-file"),T(e,"class","file-pil svelte-5ng3n"),T(e,"href",i=n[35].content.value.url),T(e,"target","_blank"),T(e,"download",s=window.__is_colab__?null:n[35].content.value?.orig_name||n[35].content.value?.path.split("/").pop()||"file")},m(o,a){Ce(o,e,a),yt(e,l)},p(o,a){a[0]&16&&t!==(t=(o[35].content.value?.orig_name||o[35].content.value?.path.split("/").pop()||"file")+"")&&os(l,t),a[0]&16&&i!==(i=o[35].content.value.url)&&T(e,"href",i),a[0]&16&&s!==(s=window.__is_colab__?null:o[35].content.value?.orig_name||o[35].content.value?.path.split("/").pop()||"file")&&T(e,"download",s)},i:qn,o:qn,d(o){o&&$e(e)}}}function as(n){let e,t;return e=new Ci({props:{target:n[16],theme_mode:n[18],props:n[35].content.props,type:n[35].content.component,components:n[19],value:n[35].content.value,i18n:n[13],upload:n[15],_fetch:n[11]}}),e.$on("load",n[32]),{c(){Ge(e.$$.fragment)},m(l,i){Ye(e,l,i),t=!0},p(l,i){const s={};i[0]&65536&&(s.target=l[16]),i[0]&262144&&(s.theme_mode=l[18]),i[0]&16&&(s.props=l[35].content.props),i[0]&16&&(s.type=l[35].content.component),i[0]&524288&&(s.components=l[19]),i[0]&16&&(s.value=l[35].content.value),i[0]&8192&&(s.i18n=l[13]),i[0]&32768&&(s.upload=l[15]),i[0]&2048&&(s._fetch=l[11]),e.$set(s)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){We(e,l)}}}function us(n){let e,t,l,i;const s=[fs,_s],o=[];function a(r,u){return r[35].metadata.title?0:1}return e=a(n),t=o[e]=s[e](n),{c(){t.c(),l=Wt()},m(r,u){o[e].m(r,u),Ce(r,l,u),i=!0},p(r,u){let _=e;e=a(r),e===_?o[e].p(r,u):(lt(),D(o[_],1,1,()=>{o[_]=null}),nt(),t=o[e],t?t.p(r,u):(t=o[e]=s[e](r),t.c()),L(t,1),t.m(l.parentNode,l))},i(r){i||(L(t),i=!0)},o(r){D(t),i=!1},d(r){r&&$e(l),o[e].d(r)}}}function _s(n){let e,t;return e=new Jt({props:{message:n[35].content,latex_delimiters:n[8],sanitize_html:n[9],render_markdown:n[7],line_breaks:n[14],root:n[17]}}),e.$on("load",function(){hl(n[21])&&n[21].apply(this,arguments)}),{c(){Ge(e.$$.fragment)},m(l,i){Ye(e,l,i),t=!0},p(l,i){n=l;const s={};i[0]&16&&(s.message=n[35].content),i[0]&256&&(s.latex_delimiters=n[8]),i[0]&512&&(s.sanitize_html=n[9]),i[0]&128&&(s.render_markdown=n[7]),i[0]&16384&&(s.line_breaks=n[14]),i[0]&131072&&(s.root=n[17]),e.$set(s)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){We(e,l)}}}function fs(n){let e,t;return e=new Di({props:{title:n[35].metadata.title,expanded:tt([n[35]],n[0]),$$slots:{default:[cs]},$$scope:{ctx:n}}}),{c(){Ge(e.$$.fragment)},m(l,i){Ye(e,l,i),t=!0},p(l,i){const s={};i[0]&16&&(s.title=l[35].metadata.title),i[0]&17&&(s.expanded=tt([l[35]],l[0])),i[0]&2245520|i[1]&128&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){We(e,l)}}}function cs(n){let e,t;return e=new Jt({props:{message:n[35].content,latex_delimiters:n[8],sanitize_html:n[9],render_markdown:n[7],line_breaks:n[14],root:n[17]}}),e.$on("load",function(){hl(n[21])&&n[21].apply(this,arguments)}),{c(){Ge(e.$$.fragment)},m(l,i){Ye(e,l,i),t=!0},p(l,i){n=l;const s={};i[0]&16&&(s.message=n[35].content),i[0]&256&&(s.latex_delimiters=n[8]),i[0]&512&&(s.sanitize_html=n[9]),i[0]&128&&(s.render_markdown=n[7]),i[0]&16384&&(s.line_breaks=n[14]),i[0]&131072&&(s.root=n[17]),e.$set(s)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){We(e,l)}}}function Mn(n){let e,t;const l=[n[22]];let i={};for(let s=0;s<l.length;s+=1)i=fl(i,l[s]);return e=new _l({props:i}),{c(){Ge(e.$$.fragment)},m(s,o){Ye(e,s,o),t=!0},p(s,o){const a=o[0]&4194304?ml(l,[cl(s[22])]):{};e.$set(a)},i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){We(e,s)}}}function Ln(n){let e,t,l,i,s,o,a,r,u,_,c,h;const f=[us,as,rs],m=[];function k(w,$){return w[35].type==="text"?0:w[35].type==="component"&&w[35].content.component in w[19]?1:w[35].type==="component"&&w[35].content.component==="file"?2:-1}~(l=k(n))&&(i=m[l]=f[l](n));function S(){return n[33](n[35])}function Z(...w){return n[34](n[35],...w)}let p=n[5]==="panel"&&Mn(n);return{c(){e=it("div"),t=it("button"),i&&i.c(),r=Ft(),p&&p.c(),u=Wt(),T(t,"data-testid",n[3]),T(t,"dir",s=n[12]?"rtl":"ltr"),T(t,"aria-label",o=n[3]+"'s message: "+Nn(n[35])),T(t,"class","svelte-5ng3n"),z(t,"latest",n[20]===n[0].length-1),z(t,"message-markdown-disabled",!n[7]),z(t,"selectable",n[10]),je(t,"user-select","text"),je(t,"cursor",n[10]?"pointer":"default"),je(t,"text-align",n[12]?"right":"left"),T(e,"class",a="message "+n[3]+" "+(Ee(n[35])?n[35]?.content.component:"")+" svelte-5ng3n"),z(e,"message-fit",n[5]==="bubble"&&!n[6]),z(e,"panel-full-width",!0),z(e,"message-markdown-disabled",!n[7]),z(e,"component",n[35].type==="component"),z(e,"html",Ee(n[35])&&n[35].content.component==="html"),z(e,"thought",n[37]>0),je(e,"text-align",n[12]&&n[3]==="user"?"left":"right")},m(w,$){Ce(w,e,$),yt(e,t),~l&&m[l].m(t,null),Ce(w,r,$),p&&p.m(w,$),Ce(w,u,$),_=!0,c||(h=[Hn(t,"click",S),Hn(t,"keydown",Z)],c=!0)},p(w,$){n=w;let E=l;l=k(n),l===E?~l&&m[l].p(n,$):(i&&(lt(),D(m[E],1,1,()=>{m[E]=null}),nt()),~l?(i=m[l],i?i.p(n,$):(i=m[l]=f[l](n),i.c()),L(i,1),i.m(t,null)):i=null),(!_||$[0]&8)&&T(t,"data-testid",n[3]),(!_||$[0]&4096&&s!==(s=n[12]?"rtl":"ltr"))&&T(t,"dir",s),(!_||$[0]&24&&o!==(o=n[3]+"'s message: "+Nn(n[35])))&&T(t,"aria-label",o),(!_||$[0]&1048577)&&z(t,"latest",n[20]===n[0].length-1),(!_||$[0]&128)&&z(t,"message-markdown-disabled",!n[7]),(!_||$[0]&1024)&&z(t,"selectable",n[10]),$[0]&1024&&je(t,"cursor",n[10]?"pointer":"default"),$[0]&4096&&je(t,"text-align",n[12]?"right":"left"),(!_||$[0]&24&&a!==(a="message "+n[3]+" "+(Ee(n[35])?n[35]?.content.component:"")+" svelte-5ng3n"))&&T(e,"class",a),(!_||$[0]&120)&&z(e,"message-fit",n[5]==="bubble"&&!n[6]),(!_||$[0]&24)&&z(e,"panel-full-width",!0),(!_||$[0]&152)&&z(e,"message-markdown-disabled",!n[7]),(!_||$[0]&24)&&z(e,"component",n[35].type==="component"),(!_||$[0]&24)&&z(e,"html",Ee(n[35])&&n[35].content.component==="html"),(!_||$[0]&24)&&z(e,"thought",n[37]>0),$[0]&4104&&je(e,"text-align",n[12]&&n[3]==="user"?"left":"right"),n[5]==="panel"?p?(p.p(n,$),$[0]&32&&L(p,1)):(p=Mn(n),p.c(),L(p,1),p.m(u.parentNode,u)):p&&(lt(),D(p,1,1,()=>{p=null}),nt())},i(w){_||(L(i),L(p),_=!0)},o(w){D(i),D(p),_=!1},d(w){w&&($e(e),$e(r),$e(u)),~l&&m[l].d(),p&&p.d(w),c=!1,ls(h)}}}function An(n){let e,t;const l=[n[22]];let i={};for(let s=0;s<l.length;s+=1)i=fl(i,l[s]);return e=new _l({props:i}),{c(){Ge(e.$$.fragment)},m(s,o){Ye(e,s,o),t=!0},p(s,o){const a=o[0]&4194304?ml(l,[cl(s[22])]):{};e.$set(a)},i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){We(e,s)}}}function ms(n){let e,t,l,i,s,o,a,r=n[1]!==null&&zn(n),u=Sn(n[4]),_=[];for(let f=0;f<u.length;f+=1)_[f]=Ln(Vn(n,u,f));const c=f=>D(_[f],1,1,()=>{_[f]=null});let h=n[5]==="bubble"&&An(n);return{c(){e=it("div"),r&&r.c(),t=Ft(),l=it("div");for(let f=0;f<_.length;f+=1)_[f].c();s=Ft(),h&&h.c(),o=Wt(),T(l,"class","flex-wrap svelte-5ng3n"),z(l,"role",n[3]),z(l,"component-wrap",n[4][0].type==="component"),T(e,"class",i="message-row "+n[5]+" "+n[3]+"-row svelte-5ng3n"),z(e,"with_avatar",n[1]!==null),z(e,"with_opposite_avatar",n[2]!==null)},m(f,m){Ce(f,e,m),r&&r.m(e,null),yt(e,t),yt(e,l);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(l,null);Ce(f,s,m),h&&h.m(f,m),Ce(f,o,m),a=!0},p(f,m){if(f[1]!==null?r?(r.p(f,m),m[0]&2&&L(r,1)):(r=zn(f),r.c(),L(r,1),r.m(e,t)):r&&(lt(),D(r,1,1,()=>{r=null}),nt()),m[0]&16777209){u=Sn(f[4]);let k;for(k=0;k<u.length;k+=1){const S=Vn(f,u,k);_[k]?(_[k].p(S,m),L(_[k],1)):(_[k]=Ln(S),_[k].c(),L(_[k],1),_[k].m(l,null))}for(lt(),k=u.length;k<_.length;k+=1)c(k);nt()}(!a||m[0]&8)&&z(l,"role",f[3]),(!a||m[0]&16)&&z(l,"component-wrap",f[4][0].type==="component"),(!a||m[0]&40&&i!==(i="message-row "+f[5]+" "+f[3]+"-row svelte-5ng3n"))&&T(e,"class",i),(!a||m[0]&42)&&z(e,"with_avatar",f[1]!==null),(!a||m[0]&44)&&z(e,"with_opposite_avatar",f[2]!==null),f[5]==="bubble"?h?(h.p(f,m),m[0]&32&&L(h,1)):(h=An(f),h.c(),L(h,1),h.m(o.parentNode,o)):h&&(lt(),D(h,1,1,()=>{h=null}),nt())},i(f){if(!a){L(r);for(let m=0;m<u.length;m+=1)L(_[m]);L(h),a=!0}},o(f){D(r),_=_.filter(Boolean);for(let m=0;m<_.length;m+=1)D(_[m]);D(h),a=!1},d(f){f&&($e(e),$e(s),$e(o)),r&&r.d(),ts(_,f),h&&h.d(f)}}}function Nn(n){return n.type==="text"?n.content:n.type==="component"&&n.content.component==="file"?Array.isArray(n.content.value)?`file of extension type: ${n.content.value[0].orig_name?.split(".").pop()}`:`file of extension type: ${n.content.value?.orig_name?.split(".").pop()}`+(n.content.value?.orig_name??""):`a component of type ${n.content.component??"unknown"}`}function hs(n,e,t){let{value:l}=e,{avatar_img:i}=e,{opposite_avatar_img:s=null}=e,{role:o="user"}=e,{messages:a=[]}=e,{layout:r}=e,{bubble_full_width:u}=e,{render_markdown:_}=e,{latex_delimiters:c}=e,{sanitize_html:h}=e,{selectable:f}=e,{_fetch:m}=e,{rtl:k}=e,{dispatch:S}=e,{i18n:Z}=e,{line_breaks:p}=e,{upload:w}=e,{target:$}=e,{root:E}=e,{theme_mode:ye}=e,{_components:Se}=e,{i:_e}=e,{show_copy_button:ne}=e,{generating:de}=e,{show_like:fe}=e,{show_retry:A}=e,{show_undo:ce}=e,{msg_format:be}=e,{handle_action:le}=e,{scroll:me}=e;function we(d,ie){S("select",{index:ie.index,value:ie.content})}let He;const Me=()=>me(),Le=d=>we(_e,d),Ae=(d,ie)=>{ie.key==="Enter"&&we(_e,d)};return n.$$set=d=>{"value"in d&&t(0,l=d.value),"avatar_img"in d&&t(1,i=d.avatar_img),"opposite_avatar_img"in d&&t(2,s=d.opposite_avatar_img),"role"in d&&t(3,o=d.role),"messages"in d&&t(4,a=d.messages),"layout"in d&&t(5,r=d.layout),"bubble_full_width"in d&&t(6,u=d.bubble_full_width),"render_markdown"in d&&t(7,_=d.render_markdown),"latex_delimiters"in d&&t(8,c=d.latex_delimiters),"sanitize_html"in d&&t(9,h=d.sanitize_html),"selectable"in d&&t(10,f=d.selectable),"_fetch"in d&&t(11,m=d._fetch),"rtl"in d&&t(12,k=d.rtl),"dispatch"in d&&t(24,S=d.dispatch),"i18n"in d&&t(13,Z=d.i18n),"line_breaks"in d&&t(14,p=d.line_breaks),"upload"in d&&t(15,w=d.upload),"target"in d&&t(16,$=d.target),"root"in d&&t(17,E=d.root),"theme_mode"in d&&t(18,ye=d.theme_mode),"_components"in d&&t(19,Se=d._components),"i"in d&&t(20,_e=d.i),"show_copy_button"in d&&t(25,ne=d.show_copy_button),"generating"in d&&t(26,de=d.generating),"show_like"in d&&t(27,fe=d.show_like),"show_retry"in d&&t(28,A=d.show_retry),"show_undo"in d&&t(29,ce=d.show_undo),"msg_format"in d&&t(30,be=d.msg_format),"handle_action"in d&&t(31,le=d.handle_action),"scroll"in d&&t(21,me=d.scroll)},n.$$.update=()=>{n.$$.dirty[0]&2113929274|n.$$.dirty[1]&1&&t(22,He={show:fe||A||ce||ne,handle_action:le,likeable:fe,show_retry:A,show_undo:ce,generating:de,show_copy_button:ne,message:be==="tuples"?a[0]:a,position:o==="user"?"right":"left",avatar:i,layout:r})},[l,i,s,o,a,r,u,_,c,h,f,m,k,Z,p,w,$,E,ye,Se,_e,me,He,we,S,ne,de,fe,A,ce,be,le,Me,Le,Ae]}class gs extends es{constructor(e){super(),ns(this,e,hs,ms,is,{value:0,avatar_img:1,opposite_avatar_img:2,role:3,messages:4,layout:5,bubble_full_width:6,render_markdown:7,latex_delimiters:8,sanitize_html:9,selectable:10,_fetch:11,rtl:12,dispatch:24,i18n:13,line_breaks:14,upload:15,target:16,root:17,theme_mode:18,_components:19,i:20,show_copy_button:25,generating:26,show_like:27,show_retry:28,show_undo:29,msg_format:30,handle_action:31,scroll:21},null,[-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),H()}get avatar_img(){return this.$$.ctx[1]}set avatar_img(e){this.$$set({avatar_img:e}),H()}get opposite_avatar_img(){return this.$$.ctx[2]}set opposite_avatar_img(e){this.$$set({opposite_avatar_img:e}),H()}get role(){return this.$$.ctx[3]}set role(e){this.$$set({role:e}),H()}get messages(){return this.$$.ctx[4]}set messages(e){this.$$set({messages:e}),H()}get layout(){return this.$$.ctx[5]}set layout(e){this.$$set({layout:e}),H()}get bubble_full_width(){return this.$$.ctx[6]}set bubble_full_width(e){this.$$set({bubble_full_width:e}),H()}get render_markdown(){return this.$$.ctx[7]}set render_markdown(e){this.$$set({render_markdown:e}),H()}get latex_delimiters(){return this.$$.ctx[8]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),H()}get sanitize_html(){return this.$$.ctx[9]}set sanitize_html(e){this.$$set({sanitize_html:e}),H()}get selectable(){return this.$$.ctx[10]}set selectable(e){this.$$set({selectable:e}),H()}get _fetch(){return this.$$.ctx[11]}set _fetch(e){this.$$set({_fetch:e}),H()}get rtl(){return this.$$.ctx[12]}set rtl(e){this.$$set({rtl:e}),H()}get dispatch(){return this.$$.ctx[24]}set dispatch(e){this.$$set({dispatch:e}),H()}get i18n(){return this.$$.ctx[13]}set i18n(e){this.$$set({i18n:e}),H()}get line_breaks(){return this.$$.ctx[14]}set line_breaks(e){this.$$set({line_breaks:e}),H()}get upload(){return this.$$.ctx[15]}set upload(e){this.$$set({upload:e}),H()}get target(){return this.$$.ctx[16]}set target(e){this.$$set({target:e}),H()}get root(){return this.$$.ctx[17]}set root(e){this.$$set({root:e}),H()}get theme_mode(){return this.$$.ctx[18]}set theme_mode(e){this.$$set({theme_mode:e}),H()}get _components(){return this.$$.ctx[19]}set _components(e){this.$$set({_components:e}),H()}get i(){return this.$$.ctx[20]}set i(e){this.$$set({i:e}),H()}get show_copy_button(){return this.$$.ctx[25]}set show_copy_button(e){this.$$set({show_copy_button:e}),H()}get generating(){return this.$$.ctx[26]}set generating(e){this.$$set({generating:e}),H()}get show_like(){return this.$$.ctx[27]}set show_like(e){this.$$set({show_like:e}),H()}get show_retry(){return this.$$.ctx[28]}set show_retry(e){this.$$set({show_retry:e}),H()}get show_undo(){return this.$$.ctx[29]}set show_undo(e){this.$$set({show_undo:e}),H()}get msg_format(){return this.$$.ctx[30]}set msg_format(e){this.$$set({msg_format:e}),H()}get handle_action(){return this.$$.ctx[31]}set handle_action(e){this.$$set({handle_action:e}),H()}get scroll(){return this.$$.ctx[21]}set scroll(e){this.$$set({scroll:e}),H()}}const{SvelteComponent:ds,attr:kt,detach:bs,element:ws,flush:ps,init:ks,insert:vs,noop:Bn,safe_not_equal:$s,set_style:In}=window.__gradio__svelte__internal;function Cs(n){let e;return{c(){e=ws("div"),e.innerHTML=`<span class="sr-only">Loading content</span> <div class="dot-flashing svelte-1gpwetz"></div>
	Â 
	<div class="dot-flashing svelte-1gpwetz"></div>
	Â 
	<div class="dot-flashing svelte-1gpwetz"></div>`,kt(e,"class","message pending svelte-1gpwetz"),kt(e,"role","status"),kt(e,"aria-label","Loading response"),kt(e,"aria-live","polite"),In(e,"border-radius",n[0]==="bubble"?"var(--radius-xxl)":"none")},m(t,l){vs(t,e,l)},p(t,[l]){l&1&&In(e,"border-radius",t[0]==="bubble"?"var(--radius-xxl)":"none")},i:Bn,o:Bn,d(t){t&&bs(e)}}}function ys(n,e,t){let{layout:l="bubble"}=e;return n.$$set=i=>{"layout"in i&&t(0,l=i.layout)},[l]}class Ss extends ds{constructor(e){super(),ks(this,e,ys,Cs,$s,{layout:0})}get layout(){return this.$$.ctx[0]}set layout(e){this.$$set({layout:e}),ps()}}const{SvelteComponent:Hs,create_component:qs,destroy_component:Vs,flush:zs,init:Ms,mount_component:Ls,safe_not_equal:As,transition_in:Ns,transition_out:Bs}=window.__gradio__svelte__internal,{onDestroy:Is}=window.__gradio__svelte__internal;function Ts(n){let e,t;return e=new ue({props:{Icon:n[0]?$t:Ct,label:n[0]?"Copied conversation":"Copy conversation"}}),e.$on("click",n[1]),{c(){qs(e.$$.fragment)},m(l,i){Ls(e,l,i),t=!0},p(l,[i]){const s={};i&1&&(s.Icon=l[0]?$t:Ct),i&1&&(s.label=l[0]?"Copied conversation":"Copy conversation"),e.$set(s)},i(l){t||(Ns(e.$$.fragment,l),t=!0)},o(l){Bs(e.$$.fragment,l),t=!1},d(l){Vs(e,l)}}}function js(n,e,t){let l=!1,{value:i}=e,s;function o(){t(0,l=!0),s&&clearTimeout(s),s=setTimeout(()=>{t(0,l=!1)},1e3)}const a=()=>{if(i){const u=i.map(_=>_.type==="text"?`${_.role}: ${_.content}`:`${_.role}: ${_.content.value.url}`).join(`

`);navigator.clipboard.writeText(u).catch(_=>{console.error("Failed to copy conversation: ",_)})}};async function r(){"clipboard"in navigator&&(a(),o())}return Is(()=>{s&&clearTimeout(s)}),n.$$set=u=>{"value"in u&&t(2,i=u.value)},[l,r,i]}class Ds extends Hs{constructor(e){super(),Ms(this,e,js,Ts,As,{value:2})}get value(){return this.$$.ctx[2]}set value(e){this.$$set({value:e}),zs()}}const{SvelteComponent:Zs,action_destroyer:Es,append:P,attr:N,binding_callbacks:Us,check_outros:G,create_component:Y,destroy_component:K,destroy_each:gl,detach:B,element:U,empty:dl,ensure_array_like:St,flush:q,group_outros:W,init:Ps,insert:I,listen:Rs,mount_component:Q,noop:ot,null_to_empty:Tn,safe_not_equal:Fs,set_data:Ht,space:ae,src_url_equal:jn,text:_t,transition_in:v,transition_out:C}=window.__gradio__svelte__internal,{afterUpdate:Os,createEventDispatcher:Js,tick:Gs,onMount:Pt}=window.__gradio__svelte__internal;function Dn(n,e,t){const l=n.slice();return l[60]=e[t],l[59]=t,l}function Zn(n,e,t){const l=n.slice();l[54]=e[t],l[59]=t;const i=l[54][0].role==="user"?"user":"bot";l[55]=i;const s=l[11][l[55]==="user"?0:1];l[56]=s;const o=l[11][l[55]==="user"?0:1];return l[57]=o,l}function En(n){let e,t;return e=new Gt({props:{$$slots:{default:[Ys]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},m(l,i){Q(e,l,i),t=!0},p(l,i){const s={};i[0]&385|i[2]&1&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Un(n){let e,t;return e=new ue({props:{Icon:il,$$slots:{default:[Ws]},$$scope:{ctx:n}}}),e.$on("click",n[43]),{c(){Y(e.$$.fragment)},m(l,i){Q(e,l,i),t=!0},p(l,i){const s={};i[2]&1&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ws(n){let e,t;return e=new il({}),{c(){Y(e.$$.fragment)},m(l,i){Q(e,l,i),t=!0},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Pn(n){let e,t;return e=new Ds({props:{value:n[0]}}),{c(){Y(e.$$.fragment)},m(l,i){Q(e,l,i),t=!0},p(l,i){const s={};i[0]&1&&(s.value=l[0]),e.$set(s)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ys(n){let e,t,l,i,s,o=n[7]&&Un(n);t=new ue({props:{Icon:Vl,label:"Clear"}}),t.$on("click",n[44]);let a=n[8]&&Pn(n);return{c(){o&&o.c(),e=ae(),Y(t.$$.fragment),l=ae(),a&&a.c(),i=dl()},m(r,u){o&&o.m(r,u),I(r,e,u),Q(t,r,u),I(r,l,u),a&&a.m(r,u),I(r,i,u),s=!0},p(r,u){r[7]?o?(o.p(r,u),u[0]&128&&v(o,1)):(o=Un(r),o.c(),v(o,1),o.m(e.parentNode,e)):o&&(W(),C(o,1,1,()=>{o=null}),G()),r[8]?a?(a.p(r,u),u[0]&256&&v(a,1)):(a=Pn(r),a.c(),v(a,1),a.m(i.parentNode,i)):a&&(W(),C(a,1,1,()=>{a=null}),G())},i(r){s||(v(o),v(t.$$.fragment,r),v(a),s=!0)},o(r){C(o),C(t.$$.fragment,r),C(a),s=!1},d(r){r&&(B(e),B(l),B(i)),o&&o.d(r),K(t,r),a&&a.d(r)}}}function Ks(n){let e,t,l,i=n[19]!==null&&Rn(n),s=n[22]!==null&&Fn(n);return{c(){e=U("div"),i&&i.c(),t=ae(),s&&s.c(),N(e,"class","placeholder-content svelte-vxn3uw")},m(o,a){I(o,e,a),i&&i.m(e,null),P(e,t),s&&s.m(e,null),l=!0},p(o,a){o[19]!==null?i?(i.p(o,a),a[0]&524288&&v(i,1)):(i=Rn(o),i.c(),v(i,1),i.m(e,t)):i&&(W(),C(i,1,1,()=>{i=null}),G()),o[22]!==null?s?(s.p(o,a),a[0]&4194304&&v(s,1)):(s=Fn(o),s.c(),v(s,1),s.m(e,null)):s&&(W(),C(s,1,1,()=>{s=null}),G())},i(o){l||(v(i),v(s),l=!0)},o(o){C(i),C(s),l=!1},d(o){o&&B(e),i&&i.d(),s&&s.d()}}}function Qs(n){let e,t,l,i,s,o=St(n[34]),a=[];for(let _=0;_<o.length;_+=1)a[_]=Wn(Zn(n,o,_));const r=_=>C(a[_],1,1,()=>{a[_]=null});let u=n[3]&&Yn(n);return{c(){e=U("div");for(let _=0;_<a.length;_+=1)a[_].c();t=ae(),u&&u.c(),N(e,"class","message-wrap svelte-vxn3uw")},m(_,c){I(_,e,c);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);P(e,t),u&&u.m(e,null),l=!0,i||(s=Es(Cl.call(null,e)),i=!0)},p(_,c){if(c[0]&532151927|c[1]&319){o=St(_[34]);let h;for(h=0;h<o.length;h+=1){const f=Zn(_,o,h);a[h]?(a[h].p(f,c),v(a[h],1)):(a[h]=Wn(f),a[h].c(),v(a[h],1),a[h].m(e,t))}for(W(),h=o.length;h<a.length;h+=1)r(h);G()}_[3]?u?(u.p(_,c),c[0]&8&&v(u,1)):(u=Yn(_),u.c(),v(u,1),u.m(e,null)):u&&(W(),C(u,1,1,()=>{u=null}),G())},i(_){if(!l){for(let c=0;c<o.length;c+=1)v(a[c]);v(u),l=!0}},o(_){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)C(a[c]);C(u),l=!1},d(_){_&&B(e),gl(a,_),u&&u.d(),i=!1,s()}}}function Rn(n){let e,t,l;return t=new Jt({props:{message:n[19],latex_delimiters:n[2],root:n[26]}}),{c(){e=U("div"),Y(t.$$.fragment),N(e,"class","placeholder svelte-vxn3uw")},m(i,s){I(i,e,s),Q(t,e,null),l=!0},p(i,s){const o={};s[0]&524288&&(o.message=i[19]),s[0]&4&&(o.latex_delimiters=i[2]),s[0]&67108864&&(o.root=i[26]),t.$set(o)},i(i){l||(v(t.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),l=!1},d(i){i&&B(e),K(t)}}}function Fn(n){let e,t,l=St(n[22]),i=[];for(let o=0;o<l.length;o+=1)i[o]=Jn(Dn(n,l,o));const s=o=>C(i[o],1,1,()=>{i[o]=null});return{c(){e=U("div");for(let o=0;o<i.length;o+=1)i[o].c();N(e,"class","examples svelte-vxn3uw")},m(o,a){I(o,e,a);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null);t=!0},p(o,a){if(a[0]&4194304|a[1]&128){l=St(o[22]);let r;for(r=0;r<l.length;r+=1){const u=Dn(o,l,r);i[r]?(i[r].p(u,a),v(i[r],1)):(i[r]=Jn(u),i[r].c(),v(i[r],1),i[r].m(e,null))}for(W(),r=l.length;r<i.length;r+=1)s(r);G()}},i(o){if(!t){for(let a=0;a<l.length;a+=1)v(i[a]);t=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)C(i[a]);t=!1},d(o){o&&B(e),gl(i,o)}}}function On(n){let e,t,l;return t=new Ot({props:{class:"example-icon",src:n[60].icon.url,alt:"example-icon"}}),{c(){e=U("div"),Y(t.$$.fragment),N(e,"class","example-icon-container svelte-vxn3uw")},m(i,s){I(i,e,s),Q(t,e,null),l=!0},p(i,s){const o={};s[0]&4194304&&(o.src=i[60].icon.url),t.$set(o)},i(i){l||(v(t.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),l=!1},d(i){i&&B(e),K(t)}}}function Xs(n){let e,t=n[60].text+"",l;return{c(){e=U("span"),l=_t(t),N(e,"class","example-text svelte-vxn3uw")},m(i,s){I(i,e,s),P(e,l)},p(i,s){s[0]&4194304&&t!==(t=i[60].text+"")&&Ht(l,t)},d(i){i&&B(e)}}}function xs(n){let e,t=n[60].display_text+"",l;return{c(){e=U("span"),l=_t(t),N(e,"class","example-display-text svelte-vxn3uw")},m(i,s){I(i,e,s),P(e,l)},p(i,s){s[0]&4194304&&t!==(t=i[60].display_text+"")&&Ht(l,t)},d(i){i&&B(e)}}}function er(n){let e,t,l=n[60].files[0].orig_name+"",i;return{c(){e=U("span"),t=U("em"),i=_t(l),N(e,"class","example-file svelte-vxn3uw")},m(s,o){I(s,e,o),P(e,t),P(t,i)},p(s,o){o[0]&4194304&&l!==(l=s[60].files[0].orig_name+"")&&Ht(i,l)},i:ot,o:ot,d(s){s&&B(e)}}}function tr(n){let e,t,l;return t=new Ot({props:{class:"example-image",src:n[60].files[0].url,alt:"example-image"}}),{c(){e=U("div"),Y(t.$$.fragment),N(e,"class","example-image-container svelte-vxn3uw")},m(i,s){I(i,e,s),Q(t,e,null),l=!0},p(i,s){const o={};s[0]&4194304&&(o.src=i[60].files[0].url),t.$set(o)},i(i){l||(v(t.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),l=!1},d(i){i&&B(e),K(t)}}}function nr(n){let e,t,l=n[60].files.length+"",i,s;return{c(){e=U("span"),t=U("em"),i=_t(l),s=_t(" Files"),N(e,"class","example-file svelte-vxn3uw")},m(o,a){I(o,e,a),P(e,t),P(t,i),P(t,s)},p(o,a){a[0]&4194304&&l!==(l=o[60].files.length+"")&&Ht(i,l)},i:ot,o:ot,d(o){o&&B(e)}}}function Jn(n){let e,t,l,i,s,o,a,r,u,_,c=n[60].icon!==void 0&&On(n);function h(w,$){return w[60].display_text!==void 0?xs:Xs}let f=h(n),m=f(n);const k=[nr,tr,er],S=[];function Z(w,$){return $[0]&4194304&&(i=null),w[60].files!==void 0&&w[60].files.length>1?0:(i==null&&(i=!!(w[60].files!==void 0&&w[60].files[0]!==void 0&&w[60].files[0].mime_type?.includes("image"))),i?1:w[60].files!==void 0&&w[60].files[0]!==void 0?2:-1)}~(s=Z(n,[-1,-1,-1]))&&(o=S[s]=k[s](n));function p(){return n[47](n[59],n[60])}return{c(){e=U("button"),c&&c.c(),t=ae(),m.c(),l=ae(),o&&o.c(),a=ae(),N(e,"class","example svelte-vxn3uw")},m(w,$){I(w,e,$),c&&c.m(e,null),P(e,t),m.m(e,null),P(e,l),~s&&S[s].m(e,null),P(e,a),r=!0,u||(_=Rs(e,"click",p),u=!0)},p(w,$){n=w,n[60].icon!==void 0?c?(c.p(n,$),$[0]&4194304&&v(c,1)):(c=On(n),c.c(),v(c,1),c.m(e,t)):c&&(W(),C(c,1,1,()=>{c=null}),G()),f===(f=h(n))&&m?m.p(n,$):(m.d(1),m=f(n),m&&(m.c(),m.m(e,l)));let E=s;s=Z(n,$),s===E?~s&&S[s].p(n,$):(o&&(W(),C(S[E],1,1,()=>{S[E]=null}),G()),~s?(o=S[s],o?o.p(n,$):(o=S[s]=k[s](n),o.c()),v(o,1),o.m(e,a)):o=null)},i(w){r||(v(c),v(o),r=!0)},o(w){C(c),C(o),r=!1},d(w){w&&B(e),c&&c.d(),m.d(),~s&&S[s].d(),u=!1,_()}}}function Gn(n){let e,t,l,i,s,o;return s=new Gt({props:{$$slots:{default:[lr]},$$scope:{ctx:n}}}),{c(){e=U("div"),t=U("img"),i=ae(),Y(s.$$.fragment),jn(t.src,l=n[31])||N(t,"src",l),N(t,"alt",n[32]),N(e,"class","image-preview svelte-vxn3uw")},m(a,r){I(a,e,r),P(e,t),P(e,i),Q(s,e,null),o=!0},p(a,r){(!o||r[1]&1&&!jn(t.src,l=a[31]))&&N(t,"src",l),(!o||r[1]&2)&&N(t,"alt",a[32]);const u={};r[1]&4|r[2]&1&&(u.$$scope={dirty:r,ctx:a}),s.$set(u)},i(a){o||(v(s.$$.fragment,a),o=!0)},o(a){C(s.$$.fragment,a),o=!1},d(a){a&&B(e),K(s)}}}function lr(n){let e,t;return e=new ue({props:{Icon:ql,label:"Clear"}}),e.$on("click",n[45]),{c(){Y(e.$$.fragment)},m(l,i){Q(e,l,i),t=!0},p:ot,i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Wn(n){let e,t,l,i=n[33]&&Gn(n);function s(...o){return n[46](n[59],n[54],...o)}return t=new gs({props:{messages:n[54],opposite_avatar_img:n[57],avatar_img:n[56],role:n[55],layout:n[18],dispatch:n[36],i18n:n[17],_fetch:n[1],line_breaks:n[15],theme_mode:n[16],target:n[28],root:n[26],upload:n[20],selectable:n[5],sanitize_html:n[12],bubble_full_width:n[13],render_markdown:n[14],rtl:n[9],i:n[59],value:n[0],latex_delimiters:n[2],_components:n[27],generating:n[4],msg_format:n[21],show_like:n[55]==="user"?n[6]&&n[25]:n[6],show_retry:n[23]&&tt(n[54],n[0]),show_undo:n[24]&&tt(n[54],n[0]),show_copy_button:n[10],handle_action:s,scroll:n[35]?scroll:or}}),{c(){i&&i.c(),e=ae(),Y(t.$$.fragment)},m(o,a){i&&i.m(o,a),I(o,e,a),Q(t,o,a),l=!0},p(o,a){n=o,n[33]?i?(i.p(n,a),a[1]&4&&v(i,1)):(i=Gn(n),i.c(),v(i,1),i.m(e.parentNode,e)):i&&(W(),C(i,1,1,()=>{i=null}),G());const r={};a[1]&8&&(r.messages=n[54]),a[0]&2048|a[1]&8&&(r.opposite_avatar_img=n[57]),a[0]&2048|a[1]&8&&(r.avatar_img=n[56]),a[1]&8&&(r.role=n[55]),a[0]&262144&&(r.layout=n[18]),a[0]&131072&&(r.i18n=n[17]),a[0]&2&&(r._fetch=n[1]),a[0]&32768&&(r.line_breaks=n[15]),a[0]&65536&&(r.theme_mode=n[16]),a[0]&268435456&&(r.target=n[28]),a[0]&67108864&&(r.root=n[26]),a[0]&1048576&&(r.upload=n[20]),a[0]&32&&(r.selectable=n[5]),a[0]&4096&&(r.sanitize_html=n[12]),a[0]&8192&&(r.bubble_full_width=n[13]),a[0]&16384&&(r.render_markdown=n[14]),a[0]&512&&(r.rtl=n[9]),a[0]&1&&(r.value=n[0]),a[0]&4&&(r.latex_delimiters=n[2]),a[0]&134217728&&(r._components=n[27]),a[0]&16&&(r.generating=n[4]),a[0]&2097152&&(r.msg_format=n[21]),a[0]&33554496|a[1]&8&&(r.show_like=n[55]==="user"?n[6]&&n[25]:n[6]),a[0]&8388609|a[1]&8&&(r.show_retry=n[23]&&tt(n[54],n[0])),a[0]&16777217|a[1]&8&&(r.show_undo=n[24]&&tt(n[54],n[0])),a[0]&1024&&(r.show_copy_button=n[10]),a[1]&8&&(r.handle_action=s),t.$set(r)},i(o){l||(v(i),v(t.$$.fragment,o),l=!0)},o(o){C(i),C(t.$$.fragment,o),l=!1},d(o){o&&B(e),i&&i.d(o),K(t,o)}}}function Yn(n){let e,t;return e=new Ss({props:{layout:n[18]}}),{c(){Y(e.$$.fragment)},m(l,i){Q(e,l,i),t=!0},p(l,i){const s={};i[0]&262144&&(s.layout=l[18]),e.$set(s)},i(l){t||(v(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Kn(n){let e,t,l;return t=new ue({props:{Icon:xl,label:"Scroll down",size:"large"}}),t.$on("click",n[37]),{c(){e=U("div"),Y(t.$$.fragment),N(e,"class","scroll-down-button-container svelte-vxn3uw")},m(i,s){I(i,e,s),Q(t,e,null),l=!0},p:ot,i(i){l||(v(t.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),l=!1},d(i){i&&B(e),K(t)}}}function ir(n){let e,t,l,i,s,o,a,r,u=n[0]!==null&&n[0].length>0&&En(n);const _=[Qs,Ks],c=[];function h(m,k){return m[0]!==null&&m[0].length>0&&m[34]!==null?0:1}l=h(n),i=c[l]=_[l](n);let f=n[30]&&Kn(n);return{c(){u&&u.c(),e=ae(),t=U("div"),i.c(),o=ae(),f&&f.c(),a=dl(),N(t,"class",s=Tn(n[18]==="bubble"?"bubble-wrap":"panel-wrap")+" svelte-vxn3uw"),N(t,"role","log"),N(t,"aria-label","chatbot conversation"),N(t,"aria-live","polite")},m(m,k){u&&u.m(m,k),I(m,e,k),I(m,t,k),c[l].m(t,null),n[48](t),I(m,o,k),f&&f.m(m,k),I(m,a,k),r=!0},p(m,k){m[0]!==null&&m[0].length>0?u?(u.p(m,k),k[0]&1&&v(u,1)):(u=En(m),u.c(),v(u,1),u.m(e.parentNode,e)):u&&(W(),C(u,1,1,()=>{u=null}),G());let S=l;l=h(m),l===S?c[l].p(m,k):(W(),C(c[S],1,1,()=>{c[S]=null}),G(),i=c[l],i?i.p(m,k):(i=c[l]=_[l](m),i.c()),v(i,1),i.m(t,null)),(!r||k[0]&262144&&s!==(s=Tn(m[18]==="bubble"?"bubble-wrap":"panel-wrap")+" svelte-vxn3uw"))&&N(t,"class",s),m[30]?f?(f.p(m,k),k[0]&1073741824&&v(f,1)):(f=Kn(m),f.c(),v(f,1),f.m(a.parentNode,a)):f&&(W(),C(f,1,1,()=>{f=null}),G())},i(m){r||(v(u),v(i),v(f),r=!0)},o(m){C(u),C(i),C(f),r=!1},d(m){m&&(B(e),B(t),B(o),B(a)),u&&u.d(m),c[l].d(),n[48](null),f&&f.d(m)}}}const or=()=>{};function sr(n,e,t){let l,{value:i=[]}=e,s=null,{_fetch:o}=e,{load_component:a}=e,r={};const u=typeof window<"u";async function _(){t(27,r=await oi(si(i),r,a))}let{latex_delimiters:c}=e,{pending_message:h=!1}=e,{generating:f=!1}=e,{selectable:m=!1}=e,{likeable:k=!1}=e,{show_share_button:S=!1}=e,{show_copy_all_button:Z=!1}=e,{rtl:p=!1}=e,{show_copy_button:w=!1}=e,{avatar_images:$=[null,null]}=e,{sanitize_html:E=!0}=e,{bubble_full_width:ye=!0}=e,{render_markdown:Se=!0}=e,{line_breaks:_e=!0}=e,{autoscroll:ne=!0}=e,{theme_mode:de}=e,{i18n:fe}=e,{layout:A="bubble"}=e,{placeholder:ce=null}=e,{upload:be}=e,{msg_format:le="tuples"}=e,{examples:me=null}=e,{_retryable:we=!1}=e,{_undoable:He=!1}=e,{like_user_message:Me=!1}=e,{root:Le}=e,Ae=null;Pt(()=>{t(28,Ae=document.querySelector("div.gradio-container"))});let d,ie=!1;const oe=Js();function ft(){return d&&d.offsetHeight+d.scrollTop>d.scrollHeight-100}function ct(){d&&(d.scrollTo(0,d.scrollHeight),t(30,ie=!1))}async function mt(){ne&&(ft()?(await Gs(),ct()):t(30,ie=!0))}Pt(()=>{mt()}),Pt(()=>{function b(){ft()&&t(30,ie=!1)}return d?.addEventListener("scroll",b),()=>{d?.removeEventListener("scroll",b)}});let ht,gt,st=!1;Os(()=>{d&&d.querySelectorAll("img").forEach(b=>{b.addEventListener("click",O=>{const se=O.target;se&&(t(31,ht=se.src),t(32,gt=se.alt),t(33,st=!0))})})});function dt(b,O){oe("example_select",{index:b,value:{text:O.text,files:O.files}})}function bt(b,O,se){if(se==="undo"||se==="retry"){const pe=i;let Ke=pe.length-1;for(;pe[Ke].role==="assistant";)Ke--;oe(se,{index:pe[Ke].index,value:pe[Ke].content});return}if(le==="tuples")oe("like",{index:O.index,value:O.content,liked:se==="like"});else{if(!l)return;const pe=l[b],[Ke,kl]=[pe[0],pe[pe.length-1]];oe("like",{index:[Ke.index,kl.index],value:pe.map(vl=>vl.content),liked:se==="like"})}}const Mt=async()=>{try{const b=await ei(i);oe("share",{description:b})}catch(b){console.error(b);let O=b instanceof $l?b.message:"Share failed.";oe("error",O)}},Lt=()=>oe("clear"),g=()=>t(33,st=!1),bl=(b,O,se)=>bt(b,O[0],se),wl=(b,O)=>dt(b,O);function pl(b){Us[b?"unshift":"push"](()=>{d=b,t(29,d)})}return n.$$set=b=>{"value"in b&&t(0,i=b.value),"_fetch"in b&&t(1,o=b._fetch),"load_component"in b&&t(40,a=b.load_component),"latex_delimiters"in b&&t(2,c=b.latex_delimiters),"pending_message"in b&&t(3,h=b.pending_message),"generating"in b&&t(4,f=b.generating),"selectable"in b&&t(5,m=b.selectable),"likeable"in b&&t(6,k=b.likeable),"show_share_button"in b&&t(7,S=b.show_share_button),"show_copy_all_button"in b&&t(8,Z=b.show_copy_all_button),"rtl"in b&&t(9,p=b.rtl),"show_copy_button"in b&&t(10,w=b.show_copy_button),"avatar_images"in b&&t(11,$=b.avatar_images),"sanitize_html"in b&&t(12,E=b.sanitize_html),"bubble_full_width"in b&&t(13,ye=b.bubble_full_width),"render_markdown"in b&&t(14,Se=b.render_markdown),"line_breaks"in b&&t(15,_e=b.line_breaks),"autoscroll"in b&&t(41,ne=b.autoscroll),"theme_mode"in b&&t(16,de=b.theme_mode),"i18n"in b&&t(17,fe=b.i18n),"layout"in b&&t(18,A=b.layout),"placeholder"in b&&t(19,ce=b.placeholder),"upload"in b&&t(20,be=b.upload),"msg_format"in b&&t(21,le=b.msg_format),"examples"in b&&t(22,me=b.examples),"_retryable"in b&&t(23,we=b._retryable),"_undoable"in b&&t(24,He=b._undoable),"like_user_message"in b&&t(25,Me=b.like_user_message),"root"in b&&t(26,Le=b.root)},n.$$.update=()=>{n.$$.dirty[0]&1&&_(),n.$$.dirty[0]&134217737&&(i||h||r)&&mt(),n.$$.dirty[0]&1|n.$$.dirty[1]&2048&&(Hl(i,s)||(t(42,s=i),oe("change"))),n.$$.dirty[0]&2097153&&t(34,l=i&&ii(i,le))},[i,o,c,h,f,m,k,S,Z,p,w,$,E,ye,Se,_e,de,fe,A,ce,be,le,me,we,He,Me,Le,r,Ae,d,ie,ht,gt,st,l,u,oe,ct,dt,bt,a,ne,s,Mt,Lt,g,bl,wl,pl]}class rr extends Zs{constructor(e){super(),Ps(this,e,sr,ir,Fs,{value:0,_fetch:1,load_component:40,latex_delimiters:2,pending_message:3,generating:4,selectable:5,likeable:6,show_share_button:7,show_copy_all_button:8,rtl:9,show_copy_button:10,avatar_images:11,sanitize_html:12,bubble_full_width:13,render_markdown:14,line_breaks:15,autoscroll:41,theme_mode:16,i18n:17,layout:18,placeholder:19,upload:20,msg_format:21,examples:22,_retryable:23,_undoable:24,like_user_message:25,root:26},null,[-1,-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),q()}get _fetch(){return this.$$.ctx[1]}set _fetch(e){this.$$set({_fetch:e}),q()}get load_component(){return this.$$.ctx[40]}set load_component(e){this.$$set({load_component:e}),q()}get latex_delimiters(){return this.$$.ctx[2]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),q()}get pending_message(){return this.$$.ctx[3]}set pending_message(e){this.$$set({pending_message:e}),q()}get generating(){return this.$$.ctx[4]}set generating(e){this.$$set({generating:e}),q()}get selectable(){return this.$$.ctx[5]}set selectable(e){this.$$set({selectable:e}),q()}get likeable(){return this.$$.ctx[6]}set likeable(e){this.$$set({likeable:e}),q()}get show_share_button(){return this.$$.ctx[7]}set show_share_button(e){this.$$set({show_share_button:e}),q()}get show_copy_all_button(){return this.$$.ctx[8]}set show_copy_all_button(e){this.$$set({show_copy_all_button:e}),q()}get rtl(){return this.$$.ctx[9]}set rtl(e){this.$$set({rtl:e}),q()}get show_copy_button(){return this.$$.ctx[10]}set show_copy_button(e){this.$$set({show_copy_button:e}),q()}get avatar_images(){return this.$$.ctx[11]}set avatar_images(e){this.$$set({avatar_images:e}),q()}get sanitize_html(){return this.$$.ctx[12]}set sanitize_html(e){this.$$set({sanitize_html:e}),q()}get bubble_full_width(){return this.$$.ctx[13]}set bubble_full_width(e){this.$$set({bubble_full_width:e}),q()}get render_markdown(){return this.$$.ctx[14]}set render_markdown(e){this.$$set({render_markdown:e}),q()}get line_breaks(){return this.$$.ctx[15]}set line_breaks(e){this.$$set({line_breaks:e}),q()}get autoscroll(){return this.$$.ctx[41]}set autoscroll(e){this.$$set({autoscroll:e}),q()}get theme_mode(){return this.$$.ctx[16]}set theme_mode(e){this.$$set({theme_mode:e}),q()}get i18n(){return this.$$.ctx[17]}set i18n(e){this.$$set({i18n:e}),q()}get layout(){return this.$$.ctx[18]}set layout(e){this.$$set({layout:e}),q()}get placeholder(){return this.$$.ctx[19]}set placeholder(e){this.$$set({placeholder:e}),q()}get upload(){return this.$$.ctx[20]}set upload(e){this.$$set({upload:e}),q()}get msg_format(){return this.$$.ctx[21]}set msg_format(e){this.$$set({msg_format:e}),q()}get examples(){return this.$$.ctx[22]}set examples(e){this.$$set({examples:e}),q()}get _retryable(){return this.$$.ctx[23]}set _retryable(e){this.$$set({_retryable:e}),q()}get _undoable(){return this.$$.ctx[24]}set _undoable(e){this.$$set({_undoable:e}),q()}get like_user_message(){return this.$$.ctx[25]}set like_user_message(e){this.$$set({like_user_message:e}),q()}get root(){return this.$$.ctx[26]}set root(e){this.$$set({root:e}),q()}}const ar=rr,{SvelteComponent:ur,append:_r,assign:fr,attr:cr,check_outros:Qn,create_component:qt,destroy_component:Vt,detach:Xn,element:mr,flush:y,get_spread_object:hr,get_spread_update:gr,group_outros:xn,init:dr,insert:el,mount_component:zt,safe_not_equal:br,space:tl,transition_in:ge,transition_out:qe}=window.__gradio__svelte__internal;function nl(n){let e,t;const l=[{autoscroll:n[24].autoscroll},{i18n:n[24].i18n},n[27],{show_progress:n[27].show_progress==="hidden"?"hidden":"minimal"}];let i={};for(let s=0;s<l.length;s+=1)i=fr(i,l[s]);return e=new Ll({props:i}),e.$on("clear_status",n[36]),{c(){qt(e.$$.fragment)},m(s,o){zt(e,s,o),t=!0},p(s,o){const a=o[0]&150994944?gr(l,[o[0]&16777216&&{autoscroll:s[24].autoscroll},o[0]&16777216&&{i18n:s[24].i18n},o[0]&134217728&&hr(s[27]),o[0]&134217728&&{show_progress:s[27].show_progress==="hidden"?"hidden":"minimal"}]):{};e.$set(a)},i(s){t||(ge(e.$$.fragment,s),t=!0)},o(s){qe(e.$$.fragment,s),t=!1},d(s){Vt(e,s)}}}function ll(n){let e,t;return e=new Ml({props:{show_label:n[7],Icon:Dl,float:!0,label:n[6]||"Chatbot"}}),{c(){qt(e.$$.fragment)},m(l,i){zt(e,l,i),t=!0},p(l,i){const s={};i[0]&128&&(s.show_label=l[7]),i[0]&64&&(s.label=l[6]||"Chatbot"),e.$set(s)},i(l){t||(ge(e.$$.fragment,l),t=!0)},o(l){qe(e.$$.fragment,l),t=!1},d(l){Vt(e,l)}}}function wr(n){let e,t,l,i,s,o=n[27]&&nl(n),a=n[7]&&ll(n);return i=new ar({props:{i18n:n[24].i18n,selectable:n[8],likeable:n[9],show_share_button:n[10],show_copy_all_button:n[13],value:n[34],latex_delimiters:n[23],render_markdown:n[18],theme_mode:n[33],pending_message:n[27]?.status==="pending",generating:n[27]?.status==="generating",rtl:n[11],show_copy_button:n[12],like_user_message:n[26],avatar_images:n[25],sanitize_html:n[14],bubble_full_width:n[15],line_breaks:n[19],autoscroll:n[20],layout:n[16],placeholder:n[31],examples:n[32],_retryable:n[21],_undoable:n[22],upload:n[37],_fetch:n[38],load_component:n[24].load_component,msg_format:n[17],root:n[24].root}}),i.$on("change",n[39]),i.$on("select",n[40]),i.$on("like",n[41]),i.$on("share",n[42]),i.$on("error",n[43]),i.$on("example_select",n[44]),i.$on("retry",n[45]),i.$on("undo",n[46]),i.$on("clear",n[47]),{c(){o&&o.c(),e=tl(),t=mr("div"),a&&a.c(),l=tl(),qt(i.$$.fragment),cr(t,"class","wrapper svelte-g3p8na")},m(r,u){o&&o.m(r,u),el(r,e,u),el(r,t,u),a&&a.m(t,null),_r(t,l),zt(i,t,null),s=!0},p(r,u){r[27]?o?(o.p(r,u),u[0]&134217728&&ge(o,1)):(o=nl(r),o.c(),ge(o,1),o.m(e.parentNode,e)):o&&(xn(),qe(o,1,1,()=>{o=null}),Qn()),r[7]?a?(a.p(r,u),u[0]&128&&ge(a,1)):(a=ll(r),a.c(),ge(a,1),a.m(t,l)):a&&(xn(),qe(a,1,1,()=>{a=null}),Qn());const _={};u[0]&16777216&&(_.i18n=r[24].i18n),u[0]&256&&(_.selectable=r[8]),u[0]&512&&(_.likeable=r[9]),u[0]&1024&&(_.show_share_button=r[10]),u[0]&8192&&(_.show_copy_all_button=r[13]),u[1]&8&&(_.value=r[34]),u[0]&8388608&&(_.latex_delimiters=r[23]),u[0]&262144&&(_.render_markdown=r[18]),u[1]&4&&(_.theme_mode=r[33]),u[0]&134217728&&(_.pending_message=r[27]?.status==="pending"),u[0]&134217728&&(_.generating=r[27]?.status==="generating"),u[0]&2048&&(_.rtl=r[11]),u[0]&4096&&(_.show_copy_button=r[12]),u[0]&67108864&&(_.like_user_message=r[26]),u[0]&33554432&&(_.avatar_images=r[25]),u[0]&16384&&(_.sanitize_html=r[14]),u[0]&32768&&(_.bubble_full_width=r[15]),u[0]&524288&&(_.line_breaks=r[19]),u[0]&1048576&&(_.autoscroll=r[20]),u[0]&65536&&(_.layout=r[16]),u[1]&1&&(_.placeholder=r[31]),u[1]&2&&(_.examples=r[32]),u[0]&2097152&&(_._retryable=r[21]),u[0]&4194304&&(_._undoable=r[22]),u[0]&16777216&&(_.upload=r[37]),u[0]&16777216&&(_._fetch=r[38]),u[0]&16777216&&(_.load_component=r[24].load_component),u[0]&131072&&(_.msg_format=r[17]),u[0]&16777216&&(_.root=r[24].root),i.$set(_)},i(r){s||(ge(o),ge(a),ge(i.$$.fragment,r),s=!0)},o(r){qe(o),qe(a),qe(i.$$.fragment,r),s=!1},d(r){r&&(Xn(e),Xn(t)),o&&o.d(r),a&&a.d(),Vt(i)}}}function pr(n){let e,t;return e=new zl({props:{elem_id:n[1],elem_classes:n[2],visible:n[3],padding:!1,scale:n[4],min_width:n[5],height:n[28],min_height:n[29],max_height:n[30],allow_overflow:!0,flex:!0,overflow_behavior:"auto",$$slots:{default:[wr]},$$scope:{ctx:n}}}),{c(){qt(e.$$.fragment)},m(l,i){zt(e,l,i),t=!0},p(l,i){const s={};i[0]&2&&(s.elem_id=l[1]),i[0]&4&&(s.elem_classes=l[2]),i[0]&8&&(s.visible=l[3]),i[0]&16&&(s.scale=l[4]),i[0]&32&&(s.min_width=l[5]),i[0]&268435456&&(s.height=l[28]),i[0]&536870912&&(s.min_height=l[29]),i[0]&1073741824&&(s.max_height=l[30]),i[0]&268435393|i[1]&131087&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(ge(e.$$.fragment,l),t=!0)},o(l){qe(e.$$.fragment,l),t=!1},d(l){Vt(e,l)}}}function kr(n,e,t){let{elem_id:l=""}=e,{elem_classes:i=[]}=e,{visible:s=!0}=e,{value:o=[]}=e,{scale:a=null}=e,{min_width:r=void 0}=e,{label:u}=e,{show_label:_=!0}=e,{root:c}=e,{_selectable:h=!1}=e,{likeable:f=!1}=e,{show_share_button:m=!1}=e,{rtl:k=!1}=e,{show_copy_button:S=!0}=e,{show_copy_all_button:Z=!1}=e,{sanitize_html:p=!0}=e,{bubble_full_width:w=!0}=e,{layout:$="bubble"}=e,{type:E="tuples"}=e,{render_markdown:ye=!0}=e,{line_breaks:Se=!0}=e,{autoscroll:_e=!0}=e,{_retryable:ne=!1}=e,{_undoable:de=!1}=e,{latex_delimiters:fe}=e,{gradio:A}=e,ce=[],{avatar_images:be=[null,null]}=e,{like_user_message:le=!1}=e,{loading_status:me=void 0}=e,{height:we}=e,{min_height:He}=e,{max_height:Me}=e,{placeholder:Le=null}=e,{examples:Ae=null}=e,{theme_mode:d}=e;const ie=()=>A.dispatch("clear_status",me),oe=(...g)=>A.client.upload(...g),ft=(...g)=>A.client.fetch(...g),ct=()=>A.dispatch("change",o),mt=g=>A.dispatch("select",g.detail),ht=g=>A.dispatch("like",g.detail),gt=g=>A.dispatch("share",g.detail),st=g=>A.dispatch("error",g.detail),dt=g=>A.dispatch("example_select",g.detail),bt=g=>A.dispatch("retry",g.detail),Mt=g=>A.dispatch("undo",g.detail),Lt=()=>{t(0,o=[]),A.dispatch("clear")};return n.$$set=g=>{"elem_id"in g&&t(1,l=g.elem_id),"elem_classes"in g&&t(2,i=g.elem_classes),"visible"in g&&t(3,s=g.visible),"value"in g&&t(0,o=g.value),"scale"in g&&t(4,a=g.scale),"min_width"in g&&t(5,r=g.min_width),"label"in g&&t(6,u=g.label),"show_label"in g&&t(7,_=g.show_label),"root"in g&&t(35,c=g.root),"_selectable"in g&&t(8,h=g._selectable),"likeable"in g&&t(9,f=g.likeable),"show_share_button"in g&&t(10,m=g.show_share_button),"rtl"in g&&t(11,k=g.rtl),"show_copy_button"in g&&t(12,S=g.show_copy_button),"show_copy_all_button"in g&&t(13,Z=g.show_copy_all_button),"sanitize_html"in g&&t(14,p=g.sanitize_html),"bubble_full_width"in g&&t(15,w=g.bubble_full_width),"layout"in g&&t(16,$=g.layout),"type"in g&&t(17,E=g.type),"render_markdown"in g&&t(18,ye=g.render_markdown),"line_breaks"in g&&t(19,Se=g.line_breaks),"autoscroll"in g&&t(20,_e=g.autoscroll),"_retryable"in g&&t(21,ne=g._retryable),"_undoable"in g&&t(22,de=g._undoable),"latex_delimiters"in g&&t(23,fe=g.latex_delimiters),"gradio"in g&&t(24,A=g.gradio),"avatar_images"in g&&t(25,be=g.avatar_images),"like_user_message"in g&&t(26,le=g.like_user_message),"loading_status"in g&&t(27,me=g.loading_status),"height"in g&&t(28,we=g.height),"min_height"in g&&t(29,He=g.min_height),"max_height"in g&&t(30,Me=g.max_height),"placeholder"in g&&t(31,Le=g.placeholder),"examples"in g&&t(32,Ae=g.examples),"theme_mode"in g&&t(33,d=g.theme_mode)},n.$$.update=()=>{n.$$.dirty[0]&131073|n.$$.dirty[1]&16&&t(34,ce=E==="tuples"?li(o,c):ni(o,c))},[o,l,i,s,a,r,u,_,h,f,m,k,S,Z,p,w,$,E,ye,Se,_e,ne,de,fe,A,be,le,me,we,He,Me,Le,Ae,d,ce,c,ie,oe,ft,ct,mt,ht,gt,st,dt,bt,Mt,Lt]}class Gr extends ur{constructor(e){super(),dr(this,e,kr,pr,br,{elem_id:1,elem_classes:2,visible:3,value:0,scale:4,min_width:5,label:6,show_label:7,root:35,_selectable:8,likeable:9,show_share_button:10,rtl:11,show_copy_button:12,show_copy_all_button:13,sanitize_html:14,bubble_full_width:15,layout:16,type:17,render_markdown:18,line_breaks:19,autoscroll:20,_retryable:21,_undoable:22,latex_delimiters:23,gradio:24,avatar_images:25,like_user_message:26,loading_status:27,height:28,min_height:29,max_height:30,placeholder:31,examples:32,theme_mode:33},null,[-1,-1])}get elem_id(){return this.$$.ctx[1]}set elem_id(e){this.$$set({elem_id:e}),y()}get elem_classes(){return this.$$.ctx[2]}set elem_classes(e){this.$$set({elem_classes:e}),y()}get visible(){return this.$$.ctx[3]}set visible(e){this.$$set({visible:e}),y()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),y()}get scale(){return this.$$.ctx[4]}set scale(e){this.$$set({scale:e}),y()}get min_width(){return this.$$.ctx[5]}set min_width(e){this.$$set({min_width:e}),y()}get label(){return this.$$.ctx[6]}set label(e){this.$$set({label:e}),y()}get show_label(){return this.$$.ctx[7]}set show_label(e){this.$$set({show_label:e}),y()}get root(){return this.$$.ctx[35]}set root(e){this.$$set({root:e}),y()}get _selectable(){return this.$$.ctx[8]}set _selectable(e){this.$$set({_selectable:e}),y()}get likeable(){return this.$$.ctx[9]}set likeable(e){this.$$set({likeable:e}),y()}get show_share_button(){return this.$$.ctx[10]}set show_share_button(e){this.$$set({show_share_button:e}),y()}get rtl(){return this.$$.ctx[11]}set rtl(e){this.$$set({rtl:e}),y()}get show_copy_button(){return this.$$.ctx[12]}set show_copy_button(e){this.$$set({show_copy_button:e}),y()}get show_copy_all_button(){return this.$$.ctx[13]}set show_copy_all_button(e){this.$$set({show_copy_all_button:e}),y()}get sanitize_html(){return this.$$.ctx[14]}set sanitize_html(e){this.$$set({sanitize_html:e}),y()}get bubble_full_width(){return this.$$.ctx[15]}set bubble_full_width(e){this.$$set({bubble_full_width:e}),y()}get layout(){return this.$$.ctx[16]}set layout(e){this.$$set({layout:e}),y()}get type(){return this.$$.ctx[17]}set type(e){this.$$set({type:e}),y()}get render_markdown(){return this.$$.ctx[18]}set render_markdown(e){this.$$set({render_markdown:e}),y()}get line_breaks(){return this.$$.ctx[19]}set line_breaks(e){this.$$set({line_breaks:e}),y()}get autoscroll(){return this.$$.ctx[20]}set autoscroll(e){this.$$set({autoscroll:e}),y()}get _retryable(){return this.$$.ctx[21]}set _retryable(e){this.$$set({_retryable:e}),y()}get _undoable(){return this.$$.ctx[22]}set _undoable(e){this.$$set({_undoable:e}),y()}get latex_delimiters(){return this.$$.ctx[23]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),y()}get gradio(){return this.$$.ctx[24]}set gradio(e){this.$$set({gradio:e}),y()}get avatar_images(){return this.$$.ctx[25]}set avatar_images(e){this.$$set({avatar_images:e}),y()}get like_user_message(){return this.$$.ctx[26]}set like_user_message(e){this.$$set({like_user_message:e}),y()}get loading_status(){return this.$$.ctx[27]}set loading_status(e){this.$$set({loading_status:e}),y()}get height(){return this.$$.ctx[28]}set height(e){this.$$set({height:e}),y()}get min_height(){return this.$$.ctx[29]}set min_height(e){this.$$set({min_height:e}),y()}get max_height(){return this.$$.ctx[30]}set max_height(e){this.$$set({max_height:e}),y()}get placeholder(){return this.$$.ctx[31]}set placeholder(e){this.$$set({placeholder:e}),y()}get examples(){return this.$$.ctx[32]}set examples(e){this.$$set({examples:e}),y()}get theme_mode(){return this.$$.ctx[33]}set theme_mode(e){this.$$set({theme_mode:e}),y()}}export{ar as BaseChatBot,Gr as default};
//# sourceMappingURL=Index-DhOpDTt5.js.map
